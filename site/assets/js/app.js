"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $$=$$||{};$$.Emitter=function(){this._itemContainer=new $$.Emitter.ItemContainer},$$.Emitter.prototype={_isEventIdJustANamespace:function(t){return t=String(t),!!t.match(/^\.[a-z\d]+$/i)},_parseAndValidateEventId:function(t){t=String(t);var e=t.match(/^[a-z\d]+$/i);if(e)return[e[0],null];if(e=t.match(/^([a-z\d]+)\.([a-z\d]+)$/i),!e)throw Error("Full event names should not be empty, should consist of letters and numbers and may contain only single dot in the middle.");return[e[1],e[2]]},emit:function(t){t=String(t);var e=this._parseAndValidateEventId(t),i=this._itemContainer.getItems(e[0],e[1]),n=Array.prototype.slice.call(arguments,1);_.each(i,function(t){t.callback.apply(null,n)})},on:function(t,e){if(null==e)throw Error("An event callback should be provided.");if(!_.isFunction(e))throw Error("An event callback should be a function.");var i=this._parseAndValidateEventId(t);this._itemContainer.add(i[0],i[1],e)},off:function(t){if(t=String(t),this._isEventNameWithNamespaceJustANamespace(t))this._itemContainer.remove(null,t.substr(1));else{var e=this._parseAndValidateEventId(t);this._itemContainer.remove(e[0],e[1])}}},$$.Emitter.prototype.trigger=$$.Emitter.prototype.emit,$$.Emitter.ItemContainer=function(){this._items={}},$$.Emitter.ItemContainer.prototype={add:function(t,e,i){t=String(t),e=null==e?"*":String(e),this._items.hasOwnProperty(t)||(this._items[t]={}),this._items[t].hasOwnProperty(e)||(this._items[t][e]=[]),this._items[t][e].push({callback:i})},getItems:function(t,e){if(t=String(t),!this._items.hasOwnProperty(t))return[];if(null==e){var i=_.values(this._items[t]);return _.union.apply(null,i)}return e=String(e),this._items[t].hasOwnProperty(e)?this._items[t][e]:[]},remove:function(t,e){if(null==t&&null==e)throw Error("Only one of the arguments can be omitted.");if(null==e)this.removeByEventName(t);else if(null==t)this.removeByNamespace(e);else{if(t=String(t),e=String(e),!this._items.hasOwnProperty(t)||!this._items[t].hasOwnProperty(e))return;delete this._items[t][e]}},removeByEventName:function(t){t=String(t),this._items.hasOwnProperty(t)&&delete this._items[t]},removeByNamespace:function(t){t=String(t),_.each(this._items,function(e){e.hasOwnProperty(t)&&delete e[t]})}},$$.Simulation=$$.Simulation||{},$$.Simulation.SpringSimulator=function(){var t=this;this._springs=[],this._lastTime=+new Date,setInterval(function(){var e=+new Date,i=(e-t._lastTime)/1e3,n=.01;i>.2&&(i=.2);var o,r,a,s,l,c,u,p,h,d=t._springs.length,g=[];for(o=0;d>o;o++)r=t._springs[o],g.push(2*Math.sqrt(r._rigidness)*r._damping);for(;i>1e-6;){for(o=0;d>o;o++)r=t._springs[o],r._frozen||(a=r._target-r._position,l=(a>=0?1:-1)*Math.pow(Math.abs(a),r._forcePower)*r._rigidness-(r._velocity>=0?1:-1)*Math.abs(r._velocity)*g[o],c=r._velocity+l*n,p=r._velocityLimit,u=r._targetVelocityLimit,null!==u&&(u*=Math.pow(r._targetVelocityLimitPower,Math.abs(a)),(null===p||p>u)&&(p=u)),null!==p&&Math.abs(c)>p&&(c=(c>=0?1:-1)*p),r._position+=c*n,r._velocity=c,r._stopAtTarget&&(s=r._target-r._position,a>0&&0>=s||0>a&&s>=0)?(r._position=r._target,r._velocity=0):null!==r._positionLimits&&(h=r._positionLimits,r._position<h[0]?(r._position=h[0],r._velocity=0):r._position>h[1]&&(r._position=h[1],r._velocity=0)));i-=n}for(t._lastTime=e,o=0;d>o;o++)r=t._springs[o],null!=r&&!r._frozen&&r._step&&r._step.call()},20)},$$.Simulation.SpringSimulator.prototype={addSpring:function(t){this._springs.push(t)},deleteSpring:function(t){var e=_.indexOf(this._springs,t);-1!=e&&this._springs.splice(e,1)}},$$.Simulation.__springSimulator=new $$.Simulation.SpringSimulator,$$.Simulation=$$.Simulation||{},$$.Simulation.Spring=function(t){t=_.extend({frozen:!1,position:0,positionLimits:null,target:0,targetLimits:null,velocity:0,velocityLimit:null,rigidness:1,damping:1,forcePower:1,targetVelocityLimit:null,targetVelocityLimitPower:1.25,stopAtTarget:!1,step:null},t||{}),this._frozen=t.frozen,this._position=t.position,this._positionLimits=t.positionLimits,this._target=t.target,this._targetLimits=t.targetLimits,this._velocity=t.velocity,this._velocityLimit=t.velocityLimit,this._rigidness=t.rigidness,this._damping=t.damping,this._forcePower=t.forcePower,this._targetVelocityLimit=t.targetVelocityLimit,this._targetVelocityLimitPower=t.targetVelocityLimitPower,this._stopAtTarget=t.stopAtTarget,this._step=null,t.step&&this.step(t.step),this._applyTargetLimits(),$$.Simulation.__springSimulator.addSpring(this)},$$.Simulation.Spring.prototype={_applyTargetLimits:function(){null!==this._targetLimits&&(this._target<this._targetLimits[0]?this._target=this._targetLimits[0]:this._target>this._targetLimits[1]&&(this._target=this._targetLimits[1]))},destroy:function(){this._step=null,$$.Simulation.__springSimulator.deleteSpring(this)},moveTarget:function(t){this._target+=t,this._applyTargetLimits()},step:function(t){this._step=_.bind(t,this)},target:function(t){return 0==arguments.length?this._target:(this._target=t,void this._applyTargetLimits())},targetLimits:function(t){return 0==arguments.length?this._targetLimits:(this._targetLimits=t,void this._applyTargetLimits())}},_.each(["frozen","position","positionLimits","velocity","velocityLimit","rigidness","damping","forcePower",,"targetVelocityLimit","targetVelocityLimitPower","stopAtTarget"],function(t){$$.Simulation.Spring.prototype[t]=function(e){return 0==arguments.length?this["_"+t]:void(this["_"+t]=e)}});var $$=$$||{};$$.extend=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},$$.trim=function(t,e){e=e?e.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\sÂ ";var i=new RegExp("^["+e+"]+|["+e+"]+$","g");return t.replace(i,"")},$$.parseUrlParams=function(t){var t=t||location.href,e={},i=/\?{1}.+/;if(i.test(t)){t=t.replace(i,"");var n=location.search.replace("?","");n=n.split("&"),_.each(n,function(t,i,n){var o=t.split("=");e[o[0]]=o[1]})}return e},$$.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},$$.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},$$.Transitions={linear:function(t){return t},quadIn:function(t){return t*t},quadInOut:function(t){return t*=2,1>t?.5*t*t:-.5*((t-1)*(t-3)-1)},quadOut:function(t){return-t*(t-2)},sineIn:function(t){return 1-Math.cos(t*Math.PI*.5)},sineInOut:function(t){return.5-.5*Math.cos(t*Math.PI)},sineOut:function(t){return Math.sin(t*Math.PI*.5)}},$$.makeVideoPlayerHtml=function(t,e,i,n){return"youtube"==t?'<iframe class="youtube-player" type="text/html" width="'+i+'" height="'+n+'" src="http://www.youtube.com/embed/'+e+'?autoplay=0&rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" wmode="opaque" autoplay="false"></iframe>':"vimeo"==t?'<iframe wmode="opaque" width="'+i+'" height="'+n+'" src="http://player.vimeo.com/video/'+e+'?autoplay=1" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':""},$$.ScrollWidth=function(){var t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",t.style.visibility="hidden",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},$$.FakerInfo=function(t){function e(t){return 10>t?"0"+t:t}var i=t.find(".news-block");i.each(function(){var t=$(this),i=0==t.find("img").length?!1:!0,n=0==t.find(".title").length?!1:!0;if(n){var o=t.find(".title"),r=t.find(".subtitle"),a=t.find(".description"),s=t.find(".date"),l=t.find(".rating"),c=new Date(faker.date.between(2010,2014)),u=c.getDate(),p=c.getMonth()+1,h=c.getFullYear()%1e3,d=u+"."+e(p)+"."+h,g=e(c.getHours())+":"+e(c.getMinutes());s.text(d+", "+g),o.text(faker.lorem.words(1)[0]),r.text(faker.lorem.paragraph(1)),a.text(faker.lorem.paragraph(1)),l.text($$.getRandomInt(0,4)+"."+$$.getRandomInt(0,9))}if(i){var f=t.width(),m=t.height();t.find("img").attr("src",faker.image.imageUrl(f,m,"transport"))}})},$$.number_format=function(t,e,i,n){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+t)?+t:0,r=isFinite(+e)?Math.abs(e):0,a="undefined"==typeof n?",":n,s="undefined"==typeof i?".":i,l="",c=function(t,e){var i=Math.pow(10,e);return""+Math.round(t*i)/i};return l=(r?c(o,r):""+Math.round(o)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<r&&(l[1]=l[1]||"",l[1]+=new Array(r-l[1].length+1).join("0")),l.join(s)};var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var o=t,r=e,a=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=r,i=a,n=!0,s=c=void 0}},Component=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),$$.Emitter.call(this);for(var t=arguments.length,i=Array(t),n=0;t>n;n++)i[n]=arguments[n];1===i.length?this.root=i[0]:2===i.length&&(this.root=i[0],this.options=i[1]),this.initialize()}return _inherits(e,t),_createClass(e,[{key:"initialize",value:function(){this._cacheNodes(),this._bindEvents(),this._ready()}},{key:"_cacheNodes",value:function(){}},{key:"_bindEvents",value:function(){}},{key:"_ready",value:function(){}}]),e}($$.Emitter),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(){if(!_.isUndefined(window.google)){google.maps}}();var GoogleMap=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t);var n={offset:!1,coords:[-34.397,150.644],mapOptions:{mapTypeId:_.isUndefined(window.google)?"":google.maps.MapTypeId.ROADMAP,maxZoom:45,zoom:15,minZoom:0,zoomControl:!0,overviewMapControl:!0}};this.root=e,this.options=_.assign(n,i),this.MercatorProjection=null,this.MapIcon=null,this.MapCenter=null}return _createClass(t,[{key:"initialize",value:function(){}},{key:"_createMap",value:function(){var t=this,e=new gm.LatLng(this.options.coords[0],this.options.coords[1]);this.map=new gm.Map(this.root.get(0),this.options.mapOptions),this.map.setCenter(e),this.MapCenter=e,google.maps.event.addListenerOnce(this.map,"idle",function(e){if(t.options.offset){t.MercatorProjection=new MercatorProjection(t.map);var i=t.root.width()-t.options.offset,n=new google.maps.Point(i/2,t.root.height()/2),o=t.MercatorProjection.PixelToLatLng(n);t.map.setCenter(o),t.MapCenter=o}}),google.maps.event.addListener(this.map,"click",_.bind(function(t){this.trigger("mapClick",t)},this)),google.maps.event.addListener(this.map,"zoom_changed",function(e){t.MapCenter&&t.map.panTo(t.MapCenter)}),google.maps.event.addListener(this.map,"dragstart",_.bind(function(t){this.center=null},this))}},{key:"_cacheNodes",value:function(){this.nodes={}}},{key:"_bindEvents",value:function(){}},{key:"_ready",value:function(){var t=this;gm.event.addDomListener(window,"load",this._createMap()),this.icon={url:"./site/assets/images/point.png",size:[32,37]},this.nodes.addresses.length&&this.nodes.addresses.each(function(e){var i=$(t),n=$.parseJSON(i.data("coords").json);t.marker=n,i.on("click",function(t){t.preventDefault();var e=$(this);e.hasClass("active")||(e.siblings().removeClass("active").end().addClass("active"),GoogleMaps.panTo=n)})})}},{key:"icon",set:function(t){t&&(this.MapIcon={url:t.url,size:new google.maps.Size(t.size[0],t.size[1]),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(t.size[0]/2,t.size[1])})},get:function(){return this.MapIcon}},{key:"marker",set:function(t){var e=null;e=_.isArray(t)?new gm.LatLng(t[0],t[1]):t;var i=null==this.icon?"":this.icon,n=new gm.Marker({position:e,map:this.map,icon:i});google.maps.event.addListener(n,"click",_.bind(function(){this.panTo=n.getPosition()},this))}},{key:"center",set:function(t){var e=null;e=_.isArray(t)?new gm.LatLng(t[0],t[1]):t,this.map.setCenter(e),this.MapCenter=e}},{key:"panTo",set:function(t){var e=null;if(e=_.isArray(t)?new gm.LatLng(t[0],t[1]):t,this.map.panTo(e),this.MapCenter=e,this.MercatorProjection){var i=this.root.width()-this.options.offset,n=new google.maps.Point(i/2,this.root.height()/2),o=this.MercatorProjection.PixelToLatLng(n);this.map.panTo(o),this.MapCenter=o}}}]),t}(),MercatorProjection=function(){function t(e){_classCallCheck(this,t),this.map=e,this.mapOverlay=new google.maps.OverlayView,this.mapOverlay.draw=function(){},this.pixelOrigin_=new google.maps.Point(TILE_SIZE/2,TILE_SIZE/2),this._ready()}return _createClass(t,[{key:"LatLngToPixel",value:function(t){var e=this.mapOverlay.getProjection(),i=e.fromLatLngToContainerPixel(t);return i}},{key:"PixelToLatLng",value:function(t){var e=this.mapOverlay.getProjection(),i=e.fromContainerPixelToLatLng(t);return i}},{key:"_ready",value:function(){this.mapOverlay.setMap(this.options.map)}}]),t}(),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function(t,e,i){for(var n=!0;n;){var o=t,r=e,a=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=r,i=a,n=!0,s=c=void 0}},MainSlider=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?$:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,e);var n={};_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,_.merge(i||{},n,_.defaults))}return _inherits(e,t),_createClass(e,[{key:"_cacheNodes",value:function(){this.nodes={slides:this.root.find(".slide"),arrows:this.root.find(".slide-button"),pagination:this.root.find(".pagination")}}},{key:"_ready",value:function(){this._resizeSlider(),this._initSpring(),this.slidesLength=this.nodes.slides.length,this.nodes.pagination.append("<ul />");for(var t=1;t<=this.slidesLength;t++)this.nodes.pagination.find("ul").append("<li/>");this.nodes.pagination=this.nodes.pagination.find("li"),this.index=0,this.nodes.pagination.eq(this.index).addClass("active")}},{key:"_bindEvents",value:function(){var t=this;this.on("slideChange",_.bind(function(){this.nodes.pagination.eq(this.index).siblings().removeClass("active"),this.nodes.pagination.eq(this.index).addClass("active")},this)),this.nodes.arrows.on("click",event=function(e){var i=$(e.currentTarget),n=t.index+i.data("direction");0>n?n=t.slidesLength-1:n>t.slidesLength-1&&(n=0),i.data("direction")>0?(t.nodes.slides.eq(t.index).data("spring").target(-1),t.nodes.slides.eq(n).data("spring").position(1),t.nodes.slides.eq(n).data("spring").target(0)):(t.nodes.slides.eq(t.index).data("spring").target(1),t.nodes.slides.eq(n).data("spring").position(-1),t.nodes.slides.eq(n).data("spring").target(0)),t.index=n,t.emit("slideChange")}),this.nodes.pagination.on("click",event=function(e){var i=$(e.currentTarget);t.index!=i.index()&&t.setIndex(t.index,i.index())})}},{key:"slideRight",value:function(t,e){this.nodes.slides.eq(t).data("spring").target(-1),this.nodes.slides.eq(e).data("spring").position(1),this.nodes.slides.eq(e).data("spring").target(0)}},{key:"slideLeft",value:function(t,e){this.nodes.slides.eq(this.index).data("spring").target(1),this.nodes.slides.eq(e).data("spring").position(-1),this.nodes.slides.eq(e).data("spring").target(0)}},{key:"_initSpring",value:function(){this.nodes.slides.each(function(t){var e=$(this),i=new $$.Simulation.Spring({rigidness:100,damping:1.5,target:1,position:1,targetLimits:[-1,1],step:function(){var t=Math.round(1e3*this.position())/1e3;e.css({left:100*t+"%"})}});e.data("spring",i)}),void 0!=this.nodes.slides.eq(0).data()&&(this.nodes.slides.eq(0).data("spring").position(0),this.nodes.slides.eq(0).data("spring").target(0))}},{key:"setIndex",value:function(t,e){t>e?this.slideLeft(t,e):this.slideRight(t,e),this.nodes.pagination.eq(e).siblings().removeClass("active"),this.nodes.pagination.eq(e).addClass("active"),this.index=e}},{key:"_resizeSlider",value:function(){var t=1420,e=16;$("window").resize(_.bind(function(){var i=$$.window.width()+$$.ScrollWidth();if($("window").width()>=1420){var n=1420/t*100/100;return void this.root.css({fontSize:e*n+"px"})}if($("window").width()<=960){var n=960/t*100/100;return void this.root.css({fontSize:e*n+"px"})}var n=i/t*100/100;this.root.css({fontSize:e*n+"px"})},this)),$("window").resize()}}]),e}(Component),_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),$$=$$||{},Application=function(){function t(){_classCallCheck(this,t),this._initGoogleMap()}return _createClass(t,[{key:"_initGoogleMap",value:function(){$(".b-map").each(function(){$$.googleMap=new GoogleMap($(this))})}}]),t}();$(function(){$$.application=new Application});
//# sourceMappingURL=app.js.map
