{"version":3,"sources":["app.js","Emitter.js","spring-simulator.js","spring.js","utils.js","Component.js","GoogleMap.js","SimpleSlider.js","Application.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","$$","Emitter","this","_itemContainer","ItemContainer","_isEventIdJustANamespace","eventId","String","match","_parseAndValidateEventId","Error","emit","parts","items","getItems","args","Array","slice","call","arguments","_","each","item","callback","apply","on","isFunction","add","off","_isEventNameWithNamespaceJustANamespace","remove","substr","trigger","_items","eventName","namespace","hasOwnProperty","push","arraysOfItems","values","union","removeByEventName","removeByNamespace","itemsByNamespace","Simulation","SpringSimulator","self","_springs","_lastTime","Date","setInterval","now","time","dt","i","spring","distance","newDistance","force","newVelocity","targetVelocityLimit","velocityLimit","positionLimits","ni","length","dampings","Math","sqrt","_rigidness","_damping","_frozen","_target","_position","pow","abs","_forcePower","_velocity","_velocityLimit","_targetVelocityLimit","_targetVelocityLimitPower","_stopAtTarget","_positionLimits","_step","addSpring","deleteSpring","indexOf","splice","__springSimulator","Spring","options","extend","frozen","position","target","targetLimits","velocity","rigidness","damping","forcePower","targetVelocityLimitPower","stopAtTarget","step","_targetLimits","_applyTargetLimits","destroy","moveTarget","delta","bind","k","Child","Parent","F","superclass","trim","str","charlist","replace","re","RegExp","parseUrlParams","url","location","href","searchParam","regExpParams","test","urlParams","search","split","index","list","param","clamp","min","max","getRandomInt","floor","random","Transitions","linear","t","quadIn","quadInOut","quadOut","sineIn","cos","PI","sineInOut","sineOut","sin","makeVideoPlayerHtml","videoType","videoId","width","height","ScrollWidth","div","document","createElement","style","overflowY","visibility","body","appendChild","scrollWidth","offsetWidth","clientWidth","removeChild","FakerInfo","block","numb","number","news","find","$","hasImage","hasTitle","title","subtitle","description","date","rating","timeDate","faker","between","curr_date","getDate","curr_month","getMonth","curr_year","getFullYear","formatDate","formatTime","getHours","getMinutes","text","lorem","words","paragraph","attr","image","imageUrl","number_format","decimals","dec_point","thousands_sep","n","isFinite","prec","sep","dec","s","toFixedFix","round","join","_createClass","defineProperties","props","descriptor","defineProperty","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","Component","_$$$Emitter","_len","_key","root","initialize","_cacheNodes","_bindEvents","_ready","isUndefined","window","google","maps","GoogleMap","defaultOptions","offset","coords","mapOptions","mapTypeId","MapTypeId","ROADMAP","maxZoom","zoom","minZoom","zoomControl","overviewMapControl","assign","MercatorProjection","MapIcon","MapCenter","_this","centerMap","gm","LatLng","map","Map","setCenter","event","addListenerOnce","f","point","Point","latLng","PixelToLatLng","addListener","panTo","center","nodes","_this2","addDomListener","_createMap","icon","size","addresses","parseJSON","data","json","marker","e","preventDefault","hasClass","siblings","removeClass","end","addClass","GoogleMaps","set","Size","origin","anchor","isArray","Marker","getPosition","mapOverlay","OverlayView","draw","pixelOrigin_","TILE_SIZE","projection","getProjection","fromLatLngToContainerPixel","newPoint","fromContainerPixelToLatLng","setMap","_x4","_x5","MainSlider","_Component","merge","defaults","slides","arrows","pagination","_resizeSlider","_initSpring","slidesLength","append","eq","currentTarget","newIndex","setIndex","css","left","slideLeft","slideRight","startWidth","fontSize","resize","currentWidth","ratio","Application","_initGoogleMap","googleMap","application"],"mappings":"AAgCA,YAsoBA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAiDje,QAASN,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAsPhH,QAASH,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,WAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAqMje,QAASN,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCCtnChH,GAAIc,IAAKA,MAKTA,IAAGC,QAAU,WACZC,KAAKC,eAAiB,GAAIH,IAAGC,QAAQG,eAGtCJ,GAAGC,QAAQX,WAMVe,yBAA0B,SAASC,GAGlC,MAFAA,GAAUC,OAAOD,KAERA,EAAQE,MAAM,kBASxBC,yBAA0B,SAASH,GAClCA,EAAUC,OAAOD,EAIjB,IAAIE,GAAQF,EAAQE,MAAM,cAE1B,IAAIA,EACH,OAAQA,EAAM,GAAI,KAOnB,IAFAA,EAAQF,EAAQE,MAAM,8BAEjBA,EACJ,KAAME,OACL,6HAKF,QAAQF,EAAM,GAAIA,EAAM,KAMzBG,KAAM,SAASL,GACdA,EAAUC,OAAOD,EAEjB,IAAIM,GAAQV,KAAKO,yBAAyBH,GACtCO,EAAQX,KAAKC,eAAeW,SAASF,EAAM,GAAIA,EAAM,IACrDG,EAAOC,MAAM1B,UAAU2B,MAAMC,KAAKC,UAAW,EAEjDC,GAAEC,KAAKR,EAAO,SAASS,GACtBA,EAAKC,SAASC,MAAM,KAAMT,MAQ5BU,GAAI,SAASnB,EAASiB,GACrB,GAAgB,MAAZA,EACH,KAAMb,OAAM,wCAGb,KAAKU,EAAEM,WAAWH,GACjB,KAAMb,OAAM,0CAGb,IAAIE,GAAQV,KAAKO,yBAAyBH,EAE1CJ,MAAKC,eAAewB,IAAIf,EAAM,GAAIA,EAAM,GAAIW,IAG7CK,IAAK,SAAStB,GAGb,GAFAA,EAAUC,OAAOD,GAEbJ,KAAK2B,wCAAwCvB,GAEhDJ,KAAKC,eAAe2B,OAAO,KAAMxB,EAAQyB,OAAO,QAC1C,CAEN,GAAInB,GAAQV,KAAKO,yBAAyBH,EAC1CJ,MAAKC,eAAe2B,OAAOlB,EAAM,GAAIA,EAAM,OAK9CZ,GAAGC,QAAQX,UAAU0C,QAAUhC,GAAGC,QAAQX,UAAUqB,KAEpDX,GAAGC,QAAQG,cAAgB,WAc1BF,KAAK+B,WAGNjC,GAAGC,QAAQG,cAAcd,WAMxBqC,IAAK,SAASO,EAAWC,EAAWZ,GACnCW,EAAY3B,OAAO2B,GACnBC,EAAyB,MAAbA,EAAoB,IAAM5B,OAAO4B,GAExCjC,KAAK+B,OAAOG,eAAeF,KAC/BhC,KAAK+B,OAAOC,OAGRhC,KAAK+B,OAAOC,GAAWE,eAAeD,KAC1CjC,KAAK+B,OAAOC,GAAWC,OAGxBjC,KAAK+B,OAAOC,GAAWC,GAAWE,MACjCd,SAAUA,KASZT,SAAU,SAASoB,EAAWC,GAG7B,GAFAD,EAAY3B,OAAO2B,IAEdhC,KAAK+B,OAAOG,eAAeF,GAC/B,QAGD,IAAiB,MAAbC,EAAmB,CAGtB,GAAIG,GAAgBlB,EAAEmB,OAAOrC,KAAK+B,OAAOC,GAEzC,OAAOd,GAAEoB,MAAMhB,MAAM,KAAMc,GAK5B,MAFAH,GAAY5B,OAAO4B,GAEdjC,KAAK+B,OAAOC,GAAWE,eAAeD,GAIpCjC,KAAK+B,OAAOC,GAAWC,OAS/BL,OAAQ,SAASI,EAAWC,GAC3B,GAAiB,MAAbD,GAAkC,MAAbC,EACxB,KAAMzB,OAAM,4CAGb,IAAiB,MAAbyB,EACHjC,KAAKuC,kBAAkBP,OACjB,IAAiB,MAAbA,EACVhC,KAAKwC,kBAAkBP,OACjB,CAMN,GAHAD,EAAY3B,OAAO2B,GACnBC,EAAY5B,OAAO4B,IAEdjC,KAAK+B,OAAOG,eAAeF,KAAehC,KAAK+B,OAAOC,GAAWE,eAAeD,GACpF,aAGMjC,MAAK+B,OAAOC,GAAWC,KAOhCM,kBAAmB,SAASP,GAC3BA,EAAY3B,OAAO2B,GAEdhC,KAAK+B,OAAOG,eAAeF,UAIzBhC,MAAK+B,OAAOC,IAMpBQ,kBAAmB,SAASP,GAC3BA,EAAY5B,OAAO4B,GAEnBf,EAAEC,KAAKnB,KAAK+B,OAAQ,SAASU,GACvBA,EAAiBP,eAAeD,UAI9BQ,GAAiBR,OC/P3BnC,GAAG4C,WAAa5C,GAAG4C,eAKnB5C,GAAG4C,WAAWC,gBAAkB,WAC/B,GAAIC,GAAO5C,IAEXA,MAAK6C,YACL7C,KAAK8C,WAAc,GAAIC,MAEvBC,YAAY,WACX,GAAIC,IAAQ,GAAIF,MACZG,GAAQD,EAAML,EAAKE,WAAa,IAChCK,EAAK,GAELD,GAAO,KAEVA,EAAO,GAGR,IAAIE,GAA8BC,EAE/BC,EAAUC,EAAaC,EAAOC,EAC9BC,EAAqBC,EAAeC,EAHhCC,EAAKjB,EAAKC,SAASiB,OACvBC,IAIH,KAAKX,EAAI,EAAOS,EAAJT,EAAQA,IACnBC,EAAST,EAAKC,SAASO,GACvBW,EAAS5B,KAAK,EAAI6B,KAAKC,KAAKZ,EAAOa,YAAcb,EAAOc,SAGzD,MAAOjB,EAAO,MAAU,CACvB,IAAKE,EAAI,EAAOS,EAAJT,EAAQA,IACnBC,EAAST,EAAKC,SAASO,GAEnBC,EAAOe,UAIXd,EAAWD,EAAOgB,QAAUhB,EAAOiB,UAEnCd,GAASF,GAAY,EAAI,EAAI,IAAMU,KAAKO,IAAIP,KAAKQ,IAAIlB,GAAWD,EAAOoB,aAAepB,EAAOa,YACzFb,EAAOqB,WAAa,EAAI,EAAI,IAAMV,KAAKQ,IAAInB,EAAOqB,WAAaX,EAASX,GAE5EK,EAAcJ,EAAOqB,UAAYlB,EAAQL,EAEzCQ,EAAgBN,EAAOsB,eACvBjB,EAAsBL,EAAOuB,qBAED,OAAxBlB,IACHA,GAAuBM,KAAKO,IAAIlB,EAAOwB,0BAA2Bb,KAAKQ,IAAIlB,KAErD,OAAlBK,GAAgDA,EAAtBD,KAC7BC,EAAgBD,IAII,OAAlBC,GAA0BK,KAAKQ,IAAIf,GAAeE,IACrDF,GAAeA,GAAe,EAAI,EAAI,IAAME,GAG7CN,EAAOiB,WAAab,EAAcN,EAClCE,EAAOqB,UAAYjB,EAEfJ,EAAOyB,gBACVvB,EAAcF,EAAOgB,QAAUhB,EAAOiB,UAElChB,EAAW,GAAoB,GAAfC,GAA+B,EAAXD,GAAgBC,GAAe,IACtEF,EAAOiB,UAAYjB,EAAOgB,QAC1BhB,EAAOqB,UAAY,GAKU,OAA3BrB,EAAO0B,kBACVnB,EAAiBP,EAAO0B,gBAEpB1B,EAAOiB,UAAYV,EAAe,IACrCP,EAAOiB,UAAYV,EAAe,GAClCP,EAAOqB,UAAY,GACTrB,EAAOiB,UAAYV,EAAe,KAC5CP,EAAOiB,UAAYV,EAAe,GAClCP,EAAOqB,UAAY,IAKtBxB,IAAQC,EAKT,IAFAP,EAAKE,UAAYG,EAEZG,EAAI,EAAOS,EAAJT,EAAQA,IACnBC,EAAST,EAAKC,SAASO,GAET,MAAVC,IAICA,EAAOe,SAAWf,EAAO2B,OAC7B3B,EAAO2B,MAAMhE,QAGb,KAGJlB,GAAG4C,WAAWC,gBAAgBvD,WAC7B6F,UAAW,SAAS5B,GACnBrD,KAAK6C,SAASV,KAAKkB,IAGpB6B,aAAc,SAAS7B,GACtB,GAAID,GAAIlC,EAAEiE,QAAQnF,KAAK6C,SAAUQ,EAExB,KAALD,GACHpD,KAAK6C,SAASuC,OAAOhC,EAAG,KAO3BtD,GAAG4C,WAAW2C,kBAAoB,GAAIvF,IAAG4C,WAAWC,gBC1HpD7C,GAAG4C,WAAa5C,GAAG4C,eAKnB5C,GAAG4C,WAAW4C,OAAS,SAASC,GAC/BA,EAAUrE,EAAEsE,QACXC,QAAQ,EACRC,SAAU,EACV9B,eAAgB,KAChB+B,OAAQ,EACRC,aAAc,KACdC,SAAU,EACVlC,cAAe,KACfmC,UAAW,EACXC,QAAS,EACTC,WAAY,EACZtC,oBAAqB,KACrBuC,yBAA0B,KAC1BC,cAAc,EACdC,KAAM,MACJZ,OAEHvF,KAAKoE,QAAUmB,EAAQE,OACvBzF,KAAKsE,UAAYiB,EAAQG,SACzB1F,KAAK+E,gBAAkBQ,EAAQ3B,eAC/B5D,KAAKqE,QAAUkB,EAAQI,OACvB3F,KAAKoG,cAAgBb,EAAQK,aAC7B5F,KAAK0E,UAAYa,EAAQM,SACzB7F,KAAK2E,eAAiBY,EAAQ5B,cAC9B3D,KAAKkE,WAAaqB,EAAQO,UAC1B9F,KAAKmE,SAAWoB,EAAQQ,QACxB/F,KAAKyE,YAAcc,EAAQS,WAC3BhG,KAAK4E,qBAAuBW,EAAQ7B,oBACpC1D,KAAK6E,0BAA4BU,EAAQU,yBACzCjG,KAAK8E,cAAgBS,EAAQW,aAC7BlG,KAAKgF,MAAQ,KAETO,EAAQY,MACXnG,KAAKmG,KAAKZ,EAAQY,MAGnBnG,KAAKqG,qBAELvG,GAAG4C,WAAW2C,kBAAkBJ,UAAUjF,OAG3CF,GAAG4C,WAAW4C,OAAOlG,WACpBiH,mBAAoB,WACQ,OAAvBrG,KAAKoG,gBAILpG,KAAKqE,QAAUrE,KAAKoG,cAAc,GACrCpG,KAAKqE,QAAUrE,KAAKoG,cAAc,GACxBpG,KAAKqE,QAAUrE,KAAKoG,cAAc,KAC5CpG,KAAKqE,QAAUrE,KAAKoG,cAAc,MAIpCE,QAAS,WACRtG,KAAKgF,MAAQ,KACblF,GAAG4C,WAAW2C,kBAAkBH,aAAalF,OAG9CuG,WAAY,SAASC,GACpBxG,KAAKqE,SAAWmC,EAChBxG,KAAKqG,sBAGNF,KAAM,SAAS9E,GACdrB,KAAKgF,MAAQ9D,EAAEuF,KAAKpF,EAAUrB,OAG/B2F,OAAQ,SAASnG,GAChB,MAAwB,IAApByB,UAAU6C,OACN9D,KAAKqE,SAGbrE,KAAKqE,QAAU7E,MACfQ,MAAKqG,uBAGNT,aAAc,SAASpG,GACtB,MAAwB,IAApByB,UAAU6C,OACN9D,KAAKoG,eAGbpG,KAAKoG,cAAgB5G,MACrBQ,MAAKqG,wBAMPnF,EAAEC,MACD,SAAU,WAAY,iBAAkB,WAAY,gBAClD,YAAa,UAAW,aAAY,CACpC,sBAAuB,2BAA4B,gBACnD,SAASuF,GACX5G,GAAG4C,WAAW4C,OAAOlG,UAAUsH,GAAK,SAASlH,GAC5C,MAAwB,IAApByB,UAAU6C,OACN9D,KAAK,IAAM0G,QAGnB1G,KAAK,IAAM0G,GAAKlH,KCzGlB,IAAIM,IAAKA,MAETA,IAAG0F,OAAS,SAAUmB,EAAOC,GAC5B,GAAIC,GAAI,YAERA,GAAEzH,UAAYwH,EAAOxH,UACrBuH,EAAMvH,UAAY,GAAIyH,GACtBF,EAAMvH,UAAUG,YAAcoH,EAC9BA,EAAMG,WAAaF,EAAOxH,WAG3BU,GAAGiH,KAAO,SAAUC,EAAKC,GACxBA,EAAYA,EAAwBA,EAASC,QAAQ,oCAAqC,MAAnE,OACvB,IAAIC,GAAK,GAAIC,QAAO,KAAOH,EAAW,OAASA,EAAW,MAAO,IACjE,OAAOD,GAAIE,QAAQC,EAAI,KAGxBrH,GAAGuH,eAAiB,SAAUC,GAC7B,GAAIA,GAAMA,GAAOC,SAASC,KACtBC,KACAC,EAAe,SAEnB,IAAIA,EAAaC,KAAKL,GAAM,CAC3BA,EAAMA,EAAIJ,QAAQQ,EAAc,GAEhC,IAAIE,GAAYL,SAASM,OAAOX,QAAQ,IAAK,GAC7CU,GAAYA,EAAUE,MAAM,KAE5B5G,EAAEC,KAAKyG,EAAW,SAAUxG,EAAM2G,EAAOC,GACxC,GAAIC,GAAQ7G,EAAK0G,MAAM,IACvBL,GAAYQ,EAAM,IAAMA,EAAM,KAGhC,MAAOR,IAGR3H,GAAGoI,MAAQ,SAAU1I,EAAO2I,EAAKC,GAChC,MAAOpE,MAAKmE,IAAIC,EAAKpE,KAAKoE,IAAID,EAAK3I,KAGpCM,GAAGuI,aAAe,SAAUF,EAAKC,GAChC,MAAOpE,MAAKsE,MAAMtE,KAAKuE,UAAYH,EAAMD,EAAM,IAAMA,GAGtDrI,GAAG0I,aACFC,OAAQ,SAAUC,GACjB,MAAOA,IAGRC,OAAQ,SAAUD,GACjB,MAAOA,GAAIA,GAGZE,UAAW,SAAUF,GAGpB,MAFAA,IAAK,EAEG,EAAJA,EACI,GAAMA,EAAIA,GAGV,KAAQA,EAAI,IAAMA,EAAI,GAAK,IAGpCG,QAAS,SAAUH,GAClB,OAAQA,GAAKA,EAAI,IAGlBI,OAAQ,SAAUJ,GACjB,MAAO,GAAI1E,KAAK+E,IAAIL,EAAI1E,KAAKgF,GAAK,KAGnCC,UAAW,SAAUP,GACpB,MAAO,GAAM,GAAM1E,KAAK+E,IAAIL,EAAI1E,KAAKgF,KAGtCE,QAAS,SAAUR,GAClB,MAAO1E,MAAKmF,IAAIT,EAAI1E,KAAKgF,GAAK,MAIhClJ,GAAGsJ,oBAAsB,SAAUC,EAAWC,EAASC,EAAOC,GAC7D,MAAiB,WAAbH,EACI,0DACSE,EAAQ,aAAeC,EAAS,uCACXF,EAAU,6GAExB,SAAbD,EACH,iCAAmCE,EAAQ,aAAeC,EAAS,wCACpCF,EAAU,kGAI1C,IAGRxJ,GAAG2J,YAAc,WAEhB,GAAIC,GAAMC,SAASC,cAAc,MAEjCF,GAAIG,MAAMC,UAAY,SACtBJ,EAAIG,MAAMN,MAAQ,OAClBG,EAAIG,MAAML,OAAS,OAKnBE,EAAIG,MAAME,WAAa,SAEvBJ,SAASK,KAAKC,YAAYP,EAC1B,IAAIQ,GAAcR,EAAIS,YAAcT,EAAIU,WAGxC,OAFAT,UAASK,KAAKK,YAAYX,GAEnBQ,GAGRpK,GAAGwK,UAAY,SAAUC,GAoCxB,QAASC,GAAKC,GACb,MAAa,IAATA,EACI,IAAMA,EAENA,EAvCT,GAAIC,GAAOH,EAAMI,KAAK,cAEtBD,GAAKvJ,KAAK,WACT,GAAIC,GAAOwJ,EAAE5K,MACT6K,EAAsC,GAA3BzJ,EAAKuJ,KAAK,OAAO7G,QAAc,GAAQ,EAClDgH,EAAyC,GAA9B1J,EAAKuJ,KAAK,UAAU7G,QAAc,GAAQ,CAEzD,IAAIgH,EAAU,CACb,GAAIC,GAAQ3J,EAAKuJ,KAAK,UAClBK,EAAW5J,EAAKuJ,KAAK,aACrBM,EAAc7J,EAAKuJ,KAAK,gBACxBO,EAAO9J,EAAKuJ,KAAK,SACjBQ,EAAS/J,EAAKuJ,KAAK,WAEnBS,EAAW,GAAIrI,MAAKsI,MAAMH,KAAKI,QAAQ,KAAM,OAC7CC,EAAYH,EAASI,UACrBC,EAAaL,EAASM,WAAa,EACnCC,EAAYP,EAASQ,cAAgB,IACrCC,EAAaN,EAAY,IAAMf,EAAKiB,GAAc,IAAME,EACxDG,EAAatB,EAAKY,EAASW,YAAc,IAAMvB,EAAKY,EAASY,aAEjEd,GAAKe,KAAKJ,EAAa,KAAOC,GAC9Bf,EAAMkB,KAAKZ,MAAMa,MAAMC,MAAM,GAAG,IAChCnB,EAASiB,KAAKZ,MAAMa,MAAME,UAAU,IACpCnB,EAAYgB,KAAKZ,MAAMa,MAAME,UAAU,IACvCjB,EAAOc,KAAKnM,GAAGuI,aAAa,EAAG,GAAK,IAAMvI,GAAGuI,aAAa,EAAG,IAG9D,GAAIwC,EAAU,CACb,GAAItB,GAAQnI,EAAKmI,QACbC,EAASpI,EAAKoI,QAClBpI,GAAKuJ,KAAK,OAAO0B,KAAK,MAAOhB,MAAMiB,MAAMC,SAAShD,EAAOC,EAAQ,kBAapE1J,GAAG0M,cAAgB,SAAU/B,EAAQgC,EAAUC,EAAWC,GACzDlC,GAAUA,EAAS,IAAIvD,QAAQ,gBAAiB,GAChD,IAAI0F,GAAKC,UAAUpC,IAAeA,EAAL,EAC5BqC,EAAQD,UAAUJ,GAAgBzI,KAAKQ,IAAIiI,GAAb,EAC9BM,EAAgC,mBAAlBJ,GAAiC,IAAMA,EACrDK,EAA4B,mBAAdN,GAA6B,IAAMA,EACjDO,EAAI,GACJC,EAAa,SAAUN,EAAGE,GACzB,GAAIpG,GAAI1C,KAAKO,IAAI,GAAIuI,EACrB,OAAO,GAAK9I,KAAKmJ,MAAMP,EAAIlG,GAAKA,EAUlC,OARAuG,IAAKH,EAAOI,EAAWN,EAAGE,GAAQ,GAAK9I,KAAKmJ,MAAMP,IAAI9E,MAAM,KACxDmF,EAAE,GAAGnJ,OAAS,IACjBmJ,EAAE,GAAKA,EAAE,GAAG/F,QAAQ,0BAA2B6F,KAE3CE,EAAE,IAAM,IAAInJ,OAASgJ,IACzBG,EAAE,GAAKA,EAAE,IAAM,GACfA,EAAE,IAAM,GAAInM,OAAMgM,EAAOG,EAAE,GAAGnJ,OAAS,GAAGsJ,KAAK,MAEzCH,EAAEG,KAAKJ,GJ+ef,IAAIK,cAAe,WAAe,QAASC,GAAiB3H,EAAQ4H,GAAS,IAAK,GAAInK,GAAI,EAAGA,EAAImK,EAAMzJ,OAAQV,IAAK,CAAE,GAAIoK,GAAaD,EAAMnK,EAAIoK,GAAW/N,WAAa+N,EAAW/N,aAAc,EAAO+N,EAAW7N,cAAe,EAAU,SAAW6N,KAAYA,EAAW9N,UAAW,GAAML,OAAOoO,eAAe9H,EAAQ6H,EAAWE,IAAKF,IAAiB,MAAO,UAAUzO,EAAa4O,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBvO,EAAYK,UAAWuO,GAAiBC,GAAaN,EAAiBvO,EAAa6O,GAAqB7O,MAE7hB8O,KAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKC,IAAS,EAAsB,OAAXC,IAAiBA,EAASG,SAASjP,UAAW,IAAIkP,GAAOjP,OAAOkP,yBAAyBL,EAAQC,EAAW,IAAaK,SAATF,EAAJ,CAA4O,GAAI,SAAWA,GAAQ,MAAOA,GAAK9O,KAAgB,IAAIiP,GAASH,EAAKI,GAAK,IAAeF,SAAXC,EAAwB,MAAoB,OAAOA,GAAOzN,KAAKoN,GAA/V,GAAIO,GAAStP,OAAOuP,eAAeV,EAAS,IAAe,OAAXS,EAAmB,MAA2Bb,GAAKa,EAAQZ,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,EAAMK,EAAOK,EAASH,SKpqBtcK,UAAS,SAAAC,GACH,QADND,KL8qBJhQ,gBAAgBmB,KK9qBZ6O,GAEJhB,KAAAxO,OAAAuP,eAFIC,EAASzP,WAAA,cAAAY,MAAAgB,KAAAhB,MAGbF,GAAGC,QAAQiB,KAAKhB,KLgrBhB,KAAK,GAAI+O,GAAO9N,UAAU6C,OKlrBZjD,EAAIC,MAAAiO,GAAAC,EAAA,EAAAD,EAAAC,EAAAA,IAAJnO,EAAImO,GAAA/N,UAAA+N,EAIE,KAAhBnO,EAAKiD,OACR9D,KAAKiP,KAAOpO,EAAK,GACS,IAAhBA,EAAKiD,SACf9D,KAAKiP,KAAOpO,EAAK,GACjBb,KAAKuF,QAAU1E,EAAK,IAGrBb,KAAKkP,aLusBN,MAxCAjQ,WK3qBK4P,EAASC,GLisBdzB,aKjsBKwB,ILksBJnB,IAAK,aACLlO,MKprBS,WACTQ,KAAKmP,cACLnP,KAAKoP,cACLpP,KAAKqP,YLurBL3B,IAAK,cACLlO,MKrrBU,eLurBVkO,IAAK,cACLlO,MKrrBU,eLurBVkO,IAAK,SACLlO,MKrrBK,gBA3BDqP,GAAkB/O,GAAGC,SLutBvBsN,aAAe,WAAe,QAASC,GAAiB3H,EAAQ4H,GAAS,IAAK,GAAInK,GAAI,EAAGA,EAAImK,EAAMzJ,OAAQV,IAAK,CAAE,GAAIoK,GAAaD,EAAMnK,EAAIoK,GAAW/N,WAAa+N,EAAW/N,aAAc,EAAO+N,EAAW7N,cAAe,EAAU,SAAW6N,KAAYA,EAAW9N,UAAW,GAAML,OAAOoO,eAAe9H,EAAQ6H,EAAWE,IAAKF,IAAiB,MAAO,UAAUzO,EAAa4O,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBvO,EAAYK,UAAWuO,GAAiBC,GAAaN,EAAiBvO,EAAa6O,GAAqB7O,OMvtBjiB,WACC,IAAKmC,EAAEoO,YAAYC,OAAOC,QACzB,CAAWA,OAAOC,QN+tBpB,IM3tBMC,WAAS,WACH,QADNA,GACOT,GN4tBX,GM5tBiB1J,GAAOtE,UAAA6C,QAAA,GAAA0K,SAAAvN,UAAA,MAAKA,UAAA,EN8tB7BpC,iBAAgBmB,KM/tBZ0P,EAEJ,IAAIC,IACHC,QAAY,EACZC,QAAa,QAAS,SACtBC,YACCC,UAAqB7O,EAAEoO,YAAYC,OAAOC,QAA0C,GAAhCA,OAAOC,KAAKO,UAAUC,QAC1EC,QAAoB,GACpBC,KAAoB,GACpBC,QAAoB,EACpBC,aAAoB,EACpBC,oBAAoB,GAItBtQ,MAAKiP,KAAOA,EACZjP,KAAKuF,QAAUrE,EAAEqP,OAAOZ,EAAgBpK,GAExCvF,KAAKwQ,mBAAqB,KAC1BxQ,KAAKyQ,QAAU,KACfzQ,KAAK0Q,UAAY,KN23BlB,MAzJArD,cMtvBKqC,INuvBJhC,IAAK,aACLlO,MMjuBS,eNmuBTkO,IAAK,aACLlO,MMnqBS,WNoqBR,GAAImR,GAAQ3Q,KMnqBT4Q,EAAY,GAAIC,IAAGC,OAAO9Q,KAAKuF,QAAQsK,OAAO,GAAI7P,KAAKuF,QAAQsK,OAAO,GAC1E7P,MAAK+Q,IAAM,GAAIF,IAAGG,IAAIhR,KAAKiP,KAAKP,IAAI,GAAI1O,KAAKuF,QAAQuK,YACrD9P,KAAK+Q,IAAIE,UAAUL,GACnB5Q,KAAK0Q,UAAYE,EAEjBpB,OAAOC,KAAKyB,MAAMC,gBAAgBnR,KAAK+Q,IAAK,OAAQ,SAAAK,GACnD,GAAIT,EAAKpL,QAAQqK,OAAQ,CACxBe,EAAKH,mBAAqB,GAAIA,oBAAmBG,EAAKI,IAEtD,IAAInB,GAASe,EAAK1B,KAAK1F,QAAUoH,EAAKpL,QAAQqK,OAE1CyB,EAAQ,GAAI7B,QAAOC,KAAK6B,MAAM1B,EAAS,EAAGe,EAAK1B,KAAKzF,SAAW,GAC/D+H,EAASZ,EAAKH,mBAAmBgB,cAAcH,EAEnDV,GAAKI,IAAIE,UAAUM,GAEnBZ,EAAKD,UAAYa,KAInB/B,OAAOC,KAAKyB,MAAMO,YAAYzR,KAAK+Q,IAAK,QAAS7P,EAAEuF,KAAK,SAAUyK,GACjElR,KAAK8B,QAAQ,WAAYoP,IACvBlR,OAEHwP,OAAOC,KAAKyB,MAAMO,YAAYzR,KAAK+Q,IAAK,eAAgB,SAAAK,GACnDT,EAAKD,WACRC,EAAKI,IAAIW,MAAMf,EAAKD,aAItBlB,OAAOC,KAAKyB,MAAMO,YAAYzR,KAAK+Q,IAAK,YAAa7P,EAAEuF,KAAK,SAAUyK,GACrElR,KAAK2R,OAAS,MACZ3R,UNwqBH0N,IAAK,cACLlO,MMtqBU,WACVQ,KAAK4R,YNyqBLlE,IAAK,cACLlO,MMvqBU,eNyqBVkO,IAAK,SACLlO,MMvqBK,WNwqBJ,GAAIqS,GAAS7R,IMvqBd6Q,IAAGK,MAAMY,eAAevC,OAAQ,OAAQvP,KAAK+R,cAE7C/R,KAAKgS,MACJ1K,IAAM,iCACN2K,MAAO,GAAI,KAGPjS,KAAK4R,MAAMM,UAAUpO,QAI1B9D,KAAK4R,MAAMM,UAAU/Q,KAAK,SAAC4G,GAC1B,GAAI3G,GAAOwJ,EAACiH,GACRhC,EAASjF,EAAEuH,UAAU/Q,EAAKgR,KAAK,UAAUC,KAE7CR,GAAKS,OAASzC,EAEdzO,EAAKG,GAAG,QAAS,SAAUgR,GAC1BA,EAAEC,gBACF,IAAIpR,GAAOwJ,EAAE5K,KAEToB,GAAKqR,SAAS,YAIlBrR,EAAKsR,WAAWC,YAAY,UAAUC,MAAMC,SAAS,UAErDC,WAAWpB,MAAQ7B,UN8qBrBnC,IAAK,OACLqF,IMpzBO,SAACvT,GACJA,IACHQ,KAAKyQ,SACJnJ,IAAQ9H,EAAM8H,IACd2K,KAAQ,GAAIzC,QAAOC,KAAKuD,KAAKxT,EAAMyS,KAAK,GAAIzS,EAAMyS,KAAK,IACvDgB,OAAQ,GAAIzD,QAAOC,KAAK6B,MAAM,EAAG,GACjC4B,OAAQ,GAAI1D,QAAOC,KAAK6B,MAAM9R,EAAMyS,KAAK,GAAK,EAAGzS,EAAMyS,KAAK,ONwzB9DvD,IMnzBO,WACP,MAAO1O,MAAKyQ,WNszBZ/C,IAAK,SACLqF,IMpzBS,SAACvT,GACV,GAAIkG,GAAW,IAEIA,GAAnBxE,EAAEiS,QAAQ3T,GAAoB,GAAIqR,IAAGC,OAAOtR,EAAM,GAAIA,EAAM,IAAiBA,CAE7E,IAAIwS,GAAoB,MAAbhS,KAAKgS,KAAe,GAAKhS,KAAKgS,KAErCM,EAAS,GAAIzB,IAAGuC,QACnB1N,SAAUA,EACVqL,IAAU/Q,KAAK+Q,IACfiB,KAAUA,GAGXxC,QAAOC,KAAKyB,MAAMO,YAAYa,EAAQ,QAASpR,EAAEuF,KAAK,WACrDzG,KAAK0R,MAAQY,EAAOe,eAClBrT,UNuzBH0N,IAAK,SACLqF,IMrzBS,SAACvT,GACV,GAAIkG,GAAW,IAEIA,GAAnBxE,EAAEiS,QAAQ3T,GAAoB,GAAIqR,IAAGC,OAAOtR,EAAM,GAAIA,EAAM,IAAiBA,EAE7EQ,KAAK+Q,IAAIE,UAAUvL,GAEnB1F,KAAK0Q,UAAYhL,KNwzBjBgI,IAAK,QACLqF,IMtzBQ,SAACvT,GACT,GAAIkG,GAAW,IAOf,IALmBA,EAAnBxE,EAAEiS,QAAQ3T,GAAoB,GAAIqR,IAAGC,OAAOtR,EAAM,GAAIA,EAAM,IAAiBA,EAE7EQ,KAAK+Q,IAAIW,MAAMhM,GACf1F,KAAK0Q,UAAYhL,EAEb1F,KAAKwQ,mBAAoB,CAC5B,GAAIZ,GAAS5P,KAAKiP,KAAK1F,QAAUvJ,KAAKuF,QAAQqK,OAE1CyB,EAAQ,GAAI7B,QAAOC,KAAK6B,MAAM1B,EAAS,EAAG5P,KAAKiP,KAAKzF,SAAW,GAC/D+H,EAASvR,KAAKwQ,mBAAmBgB,cAAcH,EACnDrR,MAAK+Q,IAAIW,MAAMH,GAEfvR,KAAK0Q,UAAYa,OApFd7B,KAqKAc,mBAAkB,WACZ,QADNA,GACOO,GN8uBXlS,gBAAgBmB,KM/uBZwQ,GAEJxQ,KAAK+Q,IAAMA,EACX/Q,KAAKsT,WAAa,GAAI9D,QAAOC,KAAK8D,YAClCvT,KAAKsT,WAAWE,KAAO,aAGvBxT,KAAKyT,aAAe,GAAIjE,QAAOC,KAAK6B,MAAMoC,UAAY,EACrDA,UAAY,GAEb1T,KAAKqP,SNkxBN,MA5BAhC,cMhwBKmD,INiwBJ9C,IAAK,gBACLlO,MMhvBY,SAAC+R,GACb,GAAIoC,GAAa3T,KAAKsT,WAAWM,gBAC7BvC,EAAQsC,EAAWE,2BAA2BtC,EAClD,OAAOF,MNyvBP3D,IAAK,gBACLlO,MMlvBY,SAAC6R,GACb,GAAIsC,GAAa3T,KAAKsT,WAAWM,gBAC7BE,EAAWH,EAAWI,2BAA2B1C,EAErD,OAAOyC,MNqvBPpG,IAAK,SACLlO,MMnvBK,WACLQ,KAAKsT,WAAWU,OAAOhU,KAAKuF,QAAQwL,SArChCP,KNgyBFnD,aAAe,WAAe,QAASC,GAAiB3H,EAAQ4H,GAAS,IAAK,GAAInK,GAAI,EAAGA,EAAImK,EAAMzJ,OAAQV,IAAK,CAAE,GAAIoK,GAAaD,EAAMnK,EAAIoK,GAAW/N,WAAa+N,EAAW/N,aAAc,EAAO+N,EAAW7N,cAAe,EAAU,SAAW6N,KAAYA,EAAW9N,UAAW,GAAML,OAAOoO,eAAe9H,EAAQ6H,EAAWE,IAAKF,IAAiB,MAAO,UAAUzO,EAAa4O,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBvO,EAAYK,UAAWuO,GAAiBC,GAAaN,EAAiBvO,EAAa6O,GAAqB7O,MAE7hB8O,KAAO,SAAaG,EAAKiG,EAAKC,GAAqC,IAA9B,GAAIjG,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASF,EAAKG,EAAW8F,EAAK7F,EAAW8F,CAAKjG,IAAS,EAAsB,OAAXC,IAAiBA,EAASG,SAASjP,UAAW,IAAIkP,GAAOjP,OAAOkP,yBAAyBL,EAAQC,EAAW,IAAaK,SAATF,EAAJ,CAA6O,GAAI,SAAWA,GAAQ,MAAOA,GAAK9O,KAAgB,IAAIiP,GAASH,EAAKI,GAAK,IAAeF,SAAXC,EAAwB,MAAoB,OAAOA,GAAOzN,KAAKoN,GAAhW,GAAIO,GAAStP,OAAOuP,eAAeV,EAAS,IAAe,OAAXS,EAAmB,MAA2BX,GAAMW,EAAQsF,EAAM9F,EAAU+F,EAAM9F,EAAUH,GAAS,EAAMK,EAAOK,EAASH,SO78Bzc2F,WAAU,SAAAC,GACJ,QADND,KPu9BJ,GOt9BWlF,GAAIhO,UAAA6C,QAAA,GAAA0K,SAAAvN,UAAA,GAAG2J,EAAC3J,UAAA,GAAEsE,EAAOtE,UAAA6C,QAAA,GAAA0K,SAAAvN,UAAA,MAAKA,UAAA,EPy9BjCpC,iBAAgBmB,KO19BZmU,EAEJ,IAAIxE,KAEJ9B,MAAAxO,OAAAuP,eAJIuF,EAAU/U,WAAA,cAAAY,MAAAgB,KAAAhB,KAIRiP,EAAM/N,EAAEmT,MAAM9O,MAAeoK,EAAgBzO,EAAEoT,WP4oCtD,MA5LArV,WOp9BKkV,EAAUC,GPm+Bf/G,aOn+BK8G,IPo+BJzG,IAAK,cACLlO,MO59BU,WACVQ,KAAK4R,OACJ2C,OAAYvU,KAAKiP,KAAKtE,KAAK,UAC3B6J,OAAYxU,KAAKiP,KAAKtE,KAAK,iBAC3B8J,WAAYzU,KAAKiP,KAAKtE,KAAK,mBPg+B5B+C,IAAK,SACLlO,MO79BK,WACLQ,KAAK0U,gBACL1U,KAAK2U,cAEL3U,KAAK4U,aAAe5U,KAAK4R,MAAM2C,OAAOzQ,OACtC9D,KAAK4R,MAAM6C,WAAWI,OAAO,SAE7B,KAAK,GAAIzR,GAAI,EAAGA,GAAKpD,KAAK4U,aAAcxR,IACvCpD,KAAK4R,MAAM6C,WAAW9J,KAAK,MAAMkK,OAAO,QAGzC7U,MAAK4R,MAAM6C,WAAazU,KAAK4R,MAAM6C,WAAW9J,KAAK,MACnD3K,KAAK+H,MAAQ,EAEb/H,KAAK4R,MAAM6C,WAAWK,GAAG9U,KAAK+H,OAAO8K,SAAS,aPg+B9CnF,IAAK,cACLlO,MO99BU,WP+9BT,GAAImR,GAAQ3Q,IO99BbA,MAAKuB,GAAG,cAAeL,EAAEuF,KAAK,WAC7BzG,KAAK4R,MAAM6C,WAAWK,GAAG9U,KAAK+H,OAAO2K,WAAWC,YAAY,UAC5D3S,KAAK4R,MAAM6C,WAAWK,GAAG9U,KAAK+H,OAAO8K,SAAS,WAC5C7S,OAEHA,KAAK4R,MAAM4C,OAAOjT,GAAG,QAAS2P,MAAQ,SAACA,GACtC,GAAI9P,GAAOwJ,EAAEsG,EAAM6D,eAEfC,EAAWrE,EAAK5I,MAAQ3G,EAAKgR,KAAK,YAEvB,GAAX4C,EACHA,EAAWrE,EAAKiE,aAAe,EACrBI,EAAWrE,EAAKiE,aAAe,IACzCI,EAAW,GAGR5T,EAAKgR,KAAK,aAAe,GAC5BzB,EAAKiB,MAAM2C,OAAOO,GAAGnE,EAAK5I,OAAOqK,KAAK,UAAUzM,OAAO,IAEvDgL,EAAKiB,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAU1M,SAAS,GACvDiL,EAAKiB,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAUzM,OAAO,KAErDgL,EAAKiB,MAAM2C,OAAOO,GAAGnE,EAAK5I,OAAOqK,KAAK,UAAUzM,OAAO,GAEvDgL,EAAKiB,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAU1M,SAAS,IACvDiL,EAAKiB,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAUzM,OAAO,IAGtDgL,EAAK5I,MAAQiN,EAEbrE,EAAKlQ,KAAK,iBAGXT,KAAK4R,MAAM6C,WAAWlT,GAAG,QAAS2P,MAAQ,SAACA,GAC1C,GAAI9P,GAAOwJ,EAAEsG,EAAM6D,cAEfpE,GAAK5I,OAAS3G,EAAK2G,SAIvB4I,EAAKsE,SAAStE,EAAK5I,MAAO3G,EAAK2G,cPo+BhC2F,IAAK,aACLlO,MOj+BS,SAACuI,EAAOiN,GACjBhV,KAAK4R,MAAM2C,OAAOO,GAAG/M,GAAOqK,KAAK,UAAUzM,OAAO,IAElD3F,KAAK4R,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAU1M,SAAS,GACvD1F,KAAK4R,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAUzM,OAAO,MPo+BrD+H,IAAK,YACLlO,MOl+BQ,SAACuI,EAAOiN,GAChBhV,KAAK4R,MAAM2C,OAAOO,GAAG9U,KAAK+H,OAAOqK,KAAK,UAAUzM,OAAO,GAEvD3F,KAAK4R,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAU1M,SAAS,IACvD1F,KAAK4R,MAAM2C,OAAOO,GAAGE,GAAU5C,KAAK,UAAUzM,OAAO,MPq+BrD+H,IAAK,cACLlO,MOn+BU,WACVQ,KAAK4R,MAAM2C,OAAOpT,KAAK,SAAU4G,GAChC,GAAI3G,GAAOwJ,EAAE5K,MAETqD,EAAS,GAAIvD,IAAG4C,WAAW4C,QAC9BQ,UAAc,IACdC,QAAc,IACdJ,OAAc,EACdD,SAAc,EACdE,cAAe,GAAI,GACnBO,KAAc,WACb,GAAIT,GAAW1B,KAAKmJ,MAAwB,IAAlBnN,KAAK0F,YAAqB,GAEpDtE,GAAK8T,KACJC,KAAM,IAAMzP,EAAW,QAK1BtE,GAAKgR,KAAK,SAAU/O,KAIiBmL,QAAlCxO,KAAK4R,MAAM2C,OAAOO,GAAG,GAAG1C,SAC3BpS,KAAK4R,MAAM2C,OAAOO,GAAG,GAAG1C,KAAK,UAAU1M,SAAS,GAChD1F,KAAK4R,MAAM2C,OAAOO,GAAG,GAAG1C,KAAK,UAAUzM,OAAO,OPs+B/C+H,IAAK,WACLlO,MOn+BO,SAACuI,EAAOiN,GACXjN,EAAQiN,EACXhV,KAAKoV,UAAUrN,EAAOiN,GAEtBhV,KAAKqV,WAAWtN,EAAOiN,GAGxBhV,KAAK4R,MAAM6C,WAAWK,GAAGE,GAAUtC,WAAWC,YAAY,UAC1D3S,KAAK4R,MAAM6C,WAAWK,GAAGE,GAAUnC,SAAS,UAC5C7S,KAAK+H,MAAQiN,KPs+BbtH,IAAK,gBACLlO,MOp+BY,WACZ,GAAI8V,GAAa,KACbC,EAAW,EAEf3K,GAAE,UAAU4K,OAAOtU,EAAEuF,KAAK,WACzB,GAAIgP,GAAe3V,GAAGyP,OAAOhG,QAAUzJ,GAAG2J,aAE1C,IAAImB,EAAE,UAAUrB,SAAW,KAAM,CAChC,GAAImM,GAAQ,KAAQJ,EAAa,IAAO,GAMxC,YAJAtV,MAAKiP,KAAKiG,KACTK,SAAUA,EAAYG,EAAS,OAMjC,GAAI9K,EAAE,UAAUrB,SAAW,IAAK,CAC/B,GAAImM,GAAQ,IAAOJ,EAAa,IAAO,GAMvC,YAJAtV,MAAKiP,KAAKiG,KACTK,SAAUA,EAAYG,EAAS,OAMjC,GAAIA,GAAQD,EAAgBH,EAAa,IAAO,GAEhDtV,MAAKiP,KAAKiG,KACTK,SAAUA,EAAYG,EAAS,QAE9B1V,OAEH4K,EAAE,UAAU4K,aAxKRrB,GAAmBtF,WPopCrBxB,aAAe,WAAe,QAASC,GAAiB3H,EAAQ4H,GAAS,IAAK,GAAInK,GAAI,EAAGA,EAAImK,EAAMzJ,OAAQV,IAAK,CAAE,GAAIoK,GAAaD,EAAMnK,EAAIoK,GAAW/N,WAAa+N,EAAW/N,aAAc,EAAO+N,EAAW7N,cAAe,EAAU,SAAW6N,KAAYA,EAAW9N,UAAW,GAAML,OAAOoO,eAAe9H,EAAQ6H,EAAWE,IAAKF,IAAiB,MAAO,UAAUzO,EAAa4O,EAAYC,GAAiJ,MAA9HD,IAAYL,EAAiBvO,EAAYK,UAAWuO,GAAiBC,GAAaN,EAAiBvO,EAAa6O,GAAqB7O,MQppC7hBe,GAAKA,OAEH6V,YAAW,WACJ,QADPA,KR0pCJ9W,gBAAgBmB,KQ1pCZ2V,GAEJ3V,KAAK4V,iBRsqCN,MATAvI,cQ/pCKsI,IRgqCJjI,IAAK,iBACLlO,MQ5pCa,WACboL,EAAE,UAAUzJ,KAAK,WAChBrB,GAAG+V,UAAY,GAAInG,WAAU9E,EAAE5K,aAP5B2V,IAYN/K,GAAE,WACD9K,GAAGgW,YAAc,GAAIH","file":"app.js","sourcesContent":["/**\r\n * Base emitter class.\r\n *\r\n * Dependencies: underscore.js.\r\n *\r\n * Example:\r\n *\r\n *   var e = new $$.Emitter();\r\n *\r\n *   e.on('event1', function() {});\r\n *   e.on('event2.namespace1', function() {});\r\n *   e.on('event2.namespace2', function() {});\r\n *   e.on('event3a.namespace3', function() {});\r\n *   e.on('event3b.namespace3', function() {});\r\n *   e.on('event3c.namespace3', function() {});\r\n *   e.emit('event1', { Some event data here... });\r\n *   e.emit('event2.namespace1');\r\n *   e.off('event1');\r\n *   e.off('event2.namespace1');\r\n *   e.off('event2.namespace2');\r\n *   e.off('.namespace3');\r\n *\r\n * Multiple event data arguments are supported.\r\n *\r\n *   e.on('event10', function(a, b, c) { ... });\r\n *   e.emit('event10', 2, 'qwe', { x: 3, y: 'zxc' });\r\n *\r\n * Also #trigger() is an alias for #emit().\r\n *\r\n * NOTE: The namespace name \"*\" has a special meaning in $$.Emitter.ItemContainer.\r\n */\n\n'use strict';\n\nvar $$ = $$ || {};\n\n/**\r\n * @constructor\r\n */\n$$.Emitter = function () {\n\tthis._itemContainer = new $$.Emitter.ItemContainer();\n};\n\n$$.Emitter.prototype = {\n\t/**\r\n  * @param {String} eventId\r\n  * @return {Boolean}\r\n  * @private\r\n  */\n\t_isEventIdJustANamespace: function _isEventIdJustANamespace(eventId) {\n\t\teventId = String(eventId);\n\n\t\treturn !!eventId.match(/^\\.[a-z\\d]+$/i);\n\t},\n\n\t/**\r\n  * @param {String} eventId\r\n  * @return {Array} [eventName, namespace]\r\n  * @throws {Error}\r\n  * @private\r\n  */\n\t_parseAndValidateEventId: function _parseAndValidateEventId(eventId) {\n\t\teventId = String(eventId);\n\n\t\t// Either a single event name.\n\n\t\tvar match = eventId.match(/^[a-z\\d]+$/i);\n\n\t\tif (match) {\n\t\t\treturn [match[0], null];\n\t\t}\n\n\t\t// Or an event name + a namespace name.\n\n\t\tmatch = eventId.match(/^([a-z\\d]+)\\.([a-z\\d]+)$/i);\n\n\t\tif (!match) {\n\t\t\tthrow Error('Full event names should not be empty, should consist of letters and numbers' + ' and may contain only single dot in the middle.');\n\t\t}\n\n\t\treturn [match[1], match[2]];\n\t},\n\n\t/**\r\n  * @param {String} eventId\r\n  */\n\temit: function emit(eventId /*, eventData1, eventData2, ... */) {\n\t\teventId = String(eventId);\n\n\t\tvar parts = this._parseAndValidateEventId(eventId);\n\t\tvar items = this._itemContainer.getItems(parts[0], parts[1]);\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\t_.each(items, function (item) {\n\t\t\titem.callback.apply(null, args);\n\t\t});\n\t},\n\n\t/**\r\n  * @param {String} eventId\r\n  * @param {Function} callback\r\n  */\n\ton: function on(eventId, callback) {\n\t\tif (callback == null) {\n\t\t\tthrow Error('An event callback should be provided.');\n\t\t}\n\n\t\tif (!_.isFunction(callback)) {\n\t\t\tthrow Error('An event callback should be a function.');\n\t\t}\n\n\t\tvar parts = this._parseAndValidateEventId(eventId);\n\n\t\tthis._itemContainer.add(parts[0], parts[1], callback);\n\t},\n\n\toff: function off(eventId) {\n\t\teventId = String(eventId);\n\n\t\tif (this._isEventNameWithNamespaceJustANamespace(eventId)) {\n\t\t\t// Just a namespace.\n\t\t\tthis._itemContainer.remove(null, eventId.substr(1));\n\t\t} else {\n\t\t\t// Event name and possible namespace.\n\t\t\tvar parts = this._parseAndValidateEventId(eventId);\n\t\t\tthis._itemContainer.remove(parts[0], parts[1]);\n\t\t}\n\t}\n};\n\n$$.Emitter.prototype.trigger = $$.Emitter.prototype.emit;\n\n$$.Emitter.ItemContainer = function () {\n\t/* Items:\r\n  *\r\n  * {\r\n  *   eventName1: {\r\n  *     namespace1: [ { callback, *... }, ... ],\r\n  *     namespace2: [ ... ]\r\n  *     ...\r\n  *   },\r\n  *\r\n  *   eventName2: { ... }\r\n  *   ...\r\n  * }\r\n  */\n\tthis._items = {};\n};\n\n$$.Emitter.ItemContainer.prototype = {\n\t/**\r\n  * @param {String} eventName\r\n  * @param {String}|null namespace\r\n  * @param {Function} callback\r\n  */\n\tadd: function add(eventName, namespace, callback) {\n\t\teventName = String(eventName);\n\t\tnamespace = namespace == null ? '*' : String(namespace);\n\n\t\tif (!this._items.hasOwnProperty(eventName)) {\n\t\t\tthis._items[eventName] = {};\n\t\t}\n\n\t\tif (!this._items[eventName].hasOwnProperty(namespace)) {\n\t\t\tthis._items[eventName][namespace] = [];\n\t\t}\n\n\t\tthis._items[eventName][namespace].push({\n\t\t\tcallback: callback\n\t\t});\n\t},\n\n\t/**\r\n  * @param {String} eventName\r\n  * @param {String}|null namespace\r\n  * @return {Array}\r\n  */\n\tgetItems: function getItems(eventName, namespace) {\n\t\teventName = String(eventName);\n\n\t\tif (!this._items.hasOwnProperty(eventName)) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (namespace == null) {\n\t\t\t// Return items for all namespaces of the event.\n\n\t\t\tvar arraysOfItems = _.values(this._items[eventName]);\n\n\t\t\treturn _.union.apply(null, arraysOfItems);\n\t\t}\n\n\t\tnamespace = String(namespace);\n\n\t\tif (!this._items[eventName].hasOwnProperty(namespace)) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn this._items[eventName][namespace];\n\t},\n\n\t/**\r\n  * Removes by event name, by namespace or by both.\r\n  *\r\n  * @param {String}|null eventName\r\n  * @param {String}|null namespace\r\n  */\n\tremove: function remove(eventName, namespace) {\n\t\tif (eventName == null && namespace == null) {\n\t\t\tthrow Error('Only one of the arguments can be omitted.');\n\t\t}\n\n\t\tif (namespace == null) {\n\t\t\tthis.removeByEventName(eventName);\n\t\t} else if (eventName == null) {\n\t\t\tthis.removeByNamespace(namespace);\n\t\t} else {\n\t\t\t// Both eventName and namespace are not null.\n\n\t\t\teventName = String(eventName);\n\t\t\tnamespace = String(namespace);\n\n\t\t\tif (!this._items.hasOwnProperty(eventName) || !this._items[eventName].hasOwnProperty(namespace)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdelete this._items[eventName][namespace];\n\t\t}\n\t},\n\n\t/**\r\n  * @param {String} eventName\r\n  */\n\tremoveByEventName: function removeByEventName(eventName) {\n\t\teventName = String(eventName);\n\n\t\tif (!this._items.hasOwnProperty(eventName)) {\n\t\t\treturn;\n\t\t}\n\n\t\tdelete this._items[eventName];\n\t},\n\n\t/**\r\n  * @param {String} namespace\r\n  */\n\tremoveByNamespace: function removeByNamespace(namespace) {\n\t\tnamespace = String(namespace);\n\n\t\t_.each(this._items, function (itemsByNamespace) {\n\t\t\tif (!itemsByNamespace.hasOwnProperty(namespace)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdelete itemsByNamespace[namespace];\n\t\t});\n\t}\n};;\n\"use strict\";\n\n$$.Simulation = $$.Simulation || {};\n\n/**\r\n * Не нужно использовать этот класс напрямую. Нужно использовать $$.Simulation.Spring.\r\n */\n$$.Simulation.SpringSimulator = function () {\n\tvar self = this;\n\n\tthis._springs = [];\n\tthis._lastTime = +new Date();\n\n\tsetInterval(function () {\n\t\tvar now = +new Date();\n\t\tvar time = (now - self._lastTime) / 1000;\n\t\tvar dt = 0.01;\n\n\t\tif (time > 0.2) {\n\t\t\t// Если жс работает слишком медленно, замедлить симуляцию.\n\t\t\ttime = 0.2;\n\t\t}\n\n\t\tvar i,\n\t\t    ni = self._springs.length,\n\t\t    spring,\n\t\t    dampings = [],\n\t\t    distance,\n\t\t    newDistance,\n\t\t    force,\n\t\t    newVelocity,\n\t\t    targetVelocityLimit,\n\t\t    velocityLimit,\n\t\t    positionLimits;\n\n\t\tfor (i = 0; i < ni; i++) {\n\t\t\tspring = self._springs[i];\n\t\t\tdampings.push(2 * Math.sqrt(spring._rigidness) * spring._damping);\n\t\t}\n\n\t\twhile (time > 0.000001) {\n\t\t\tfor (i = 0; i < ni; i++) {\n\t\t\t\tspring = self._springs[i];\n\n\t\t\t\tif (spring._frozen) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tdistance = spring._target - spring._position;\n\n\t\t\t\tforce = (distance >= 0 ? 1 : -1) * Math.pow(Math.abs(distance), spring._forcePower) * spring._rigidness - (spring._velocity >= 0 ? 1 : -1) * Math.abs(spring._velocity) * dampings[i];\n\n\t\t\t\tnewVelocity = spring._velocity + force * dt;\n\n\t\t\t\tvelocityLimit = spring._velocityLimit;\n\t\t\t\ttargetVelocityLimit = spring._targetVelocityLimit;\n\n\t\t\t\tif (targetVelocityLimit !== null) {\n\t\t\t\t\ttargetVelocityLimit *= Math.pow(spring._targetVelocityLimitPower, Math.abs(distance));\n\n\t\t\t\t\tif (velocityLimit === null || targetVelocityLimit < velocityLimit) {\n\t\t\t\t\t\tvelocityLimit = targetVelocityLimit;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (velocityLimit !== null && Math.abs(newVelocity) > velocityLimit) {\n\t\t\t\t\tnewVelocity = (newVelocity >= 0 ? 1 : -1) * velocityLimit;\n\t\t\t\t}\n\n\t\t\t\tspring._position += newVelocity * dt;\n\t\t\t\tspring._velocity = newVelocity;\n\n\t\t\t\tif (spring._stopAtTarget) {\n\t\t\t\t\tnewDistance = spring._target - spring._position;\n\n\t\t\t\t\tif (distance > 0 && newDistance <= 0 || distance < 0 && newDistance >= 0) {\n\t\t\t\t\t\tspring._position = spring._target;\n\t\t\t\t\t\tspring._velocity = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (spring._positionLimits !== null) {\n\t\t\t\t\tpositionLimits = spring._positionLimits;\n\n\t\t\t\t\tif (spring._position < positionLimits[0]) {\n\t\t\t\t\t\tspring._position = positionLimits[0];\n\t\t\t\t\t\tspring._velocity = 0;\n\t\t\t\t\t} else if (spring._position > positionLimits[1]) {\n\t\t\t\t\t\tspring._position = positionLimits[1];\n\t\t\t\t\t\tspring._velocity = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttime -= dt;\n\t\t}\n\n\t\tself._lastTime = now;\n\n\t\tfor (i = 0; i < ni; i++) {\n\t\t\tspring = self._springs[i];\n\n\t\t\tif (spring == null) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (!spring._frozen && spring._step) {\n\t\t\t\tspring._step.call();\n\t\t\t}\n\t\t}\n\t}, 20);\n};\n\n$$.Simulation.SpringSimulator.prototype = {\n\taddSpring: function addSpring(spring) {\n\t\tthis._springs.push(spring);\n\t},\n\n\tdeleteSpring: function deleteSpring(spring) {\n\t\tvar i = _.indexOf(this._springs, spring);\n\n\t\tif (i != -1) {\n\t\t\tthis._springs.splice(i, 1);\n\t\t}\n\t}\n};\n\n// Создать один \"глобальный\" экземпляр.\n\n$$.Simulation.__springSimulator = new $$.Simulation.SpringSimulator();;\n'use strict';\n\n$$.Simulation = $$.Simulation || {};\n\n/**\r\n * @constructor\r\n */\n$$.Simulation.Spring = function (options) {\n\toptions = _.extend({\n\t\tfrozen: false,\n\t\tposition: 0,\n\t\tpositionLimits: null,\n\t\ttarget: 0,\n\t\ttargetLimits: null,\n\t\tvelocity: 0,\n\t\tvelocityLimit: null,\n\t\trigidness: 1,\n\t\tdamping: 1,\n\t\tforcePower: 1,\n\t\ttargetVelocityLimit: null,\n\t\ttargetVelocityLimitPower: 1.25,\n\t\tstopAtTarget: false,\n\t\tstep: null\n\t}, options || {});\n\n\tthis._frozen = options.frozen;\n\tthis._position = options.position;\n\tthis._positionLimits = options.positionLimits;\n\tthis._target = options.target;\n\tthis._targetLimits = options.targetLimits;\n\tthis._velocity = options.velocity;\n\tthis._velocityLimit = options.velocityLimit;\n\tthis._rigidness = options.rigidness;\n\tthis._damping = options.damping;\n\tthis._forcePower = options.forcePower;\n\tthis._targetVelocityLimit = options.targetVelocityLimit;\n\tthis._targetVelocityLimitPower = options.targetVelocityLimitPower;\n\tthis._stopAtTarget = options.stopAtTarget;\n\tthis._step = null;\n\n\tif (options.step) {\n\t\tthis.step(options.step);\n\t}\n\n\tthis._applyTargetLimits();\n\n\t$$.Simulation.__springSimulator.addSpring(this);\n};\n\n$$.Simulation.Spring.prototype = {\n\t_applyTargetLimits: function _applyTargetLimits() {\n\t\tif (this._targetLimits === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._target < this._targetLimits[0]) {\n\t\t\tthis._target = this._targetLimits[0];\n\t\t} else if (this._target > this._targetLimits[1]) {\n\t\t\tthis._target = this._targetLimits[1];\n\t\t}\n\t},\n\n\tdestroy: function destroy() {\n\t\tthis._step = null;\n\t\t$$.Simulation.__springSimulator.deleteSpring(this);\n\t},\n\n\tmoveTarget: function moveTarget(delta) {\n\t\tthis._target += delta;\n\t\tthis._applyTargetLimits();\n\t},\n\n\tstep: function step(callback) {\n\t\tthis._step = _.bind(callback, this);\n\t},\n\n\ttarget: function target(value) {\n\t\tif (arguments.length == 0) {\n\t\t\treturn this._target;\n\t\t}\n\n\t\tthis._target = value;\n\t\tthis._applyTargetLimits();\n\t},\n\n\ttargetLimits: function targetLimits(value) {\n\t\tif (arguments.length == 0) {\n\t\t\treturn this._targetLimits;\n\t\t}\n\n\t\tthis._targetLimits = value;\n\t\tthis._applyTargetLimits();\n\t}\n};\n\n// Создать методы-аксессоры.\n\n_.each(['frozen', 'position', 'positionLimits', 'velocity', 'velocityLimit', 'rigidness', 'damping', 'forcePower',, 'targetVelocityLimit', 'targetVelocityLimitPower', 'stopAtTarget'], function (k) {\n\t$$.Simulation.Spring.prototype[k] = function (value) {\n\t\tif (arguments.length == 0) {\n\t\t\treturn this['_' + k];\n\t\t}\n\n\t\tthis['_' + k] = value;\n\t};\n});;\n'use strict';\n\nvar $$ = $$ || {};\n\n$$.extend = function (Child, Parent) {\n\tvar F = function F() {};\n\tF.prototype = Parent.prototype;\n\tChild.prototype = new F();\n\tChild.prototype.constructor = Child;\n\tChild.superclass = Parent.prototype;\n};\n\n$$.trim = function (str, charlist) {\n\tcharlist = !charlist ? ' \\\\s\\xA0' : charlist.replace(/([\\[\\]\\(\\)\\.\\?\\/\\*\\{\\}\\+\\$\\^\\:])/g, '\\$1');\n\tvar re = new RegExp('^[' + charlist + ']+|[' + charlist + ']+$', 'g');\n\treturn str.replace(re, '');\n};\n\n$$.parseUrlParams = function (url) {\n\tvar url = url || location.href;\n\tvar searchParam = {};\n\tvar regExpParams = /\\?{1}.+/;\n\n\tif (regExpParams.test(url)) {\n\t\turl = url.replace(regExpParams, '');\n\n\t\tvar urlParams = location.search.replace('?', '');\n\t\turlParams = urlParams.split('&');\n\n\t\t_.each(urlParams, function (item, index, list) {\n\t\t\tvar param = item.split('=');\n\t\t\tsearchParam[param[0]] = param[1];\n\t\t});\n\t}\n\treturn searchParam;\n};\n\n$$.clamp = function (value, min, max) {\n\treturn Math.min(max, Math.max(min, value));\n};\n\n$$.getRandomInt = function (min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\n$$.Transitions = {\n\tlinear: function linear(t) {\n\t\treturn t;\n\t},\n\n\tquadIn: function quadIn(t) {\n\t\treturn t * t;\n\t},\n\n\tquadInOut: function quadInOut(t) {\n\t\tt *= 2;\n\n\t\tif (t < 1) {\n\t\t\treturn 0.5 * t * t;\n\t\t}\n\n\t\treturn -0.5 * ((t - 1) * (t - 3) - 1);\n\t},\n\n\tquadOut: function quadOut(t) {\n\t\treturn -t * (t - 2);\n\t},\n\n\tsineIn: function sineIn(t) {\n\t\treturn 1 - Math.cos(t * Math.PI * 0.5);\n\t},\n\n\tsineInOut: function sineInOut(t) {\n\t\treturn 0.5 - 0.5 * Math.cos(t * Math.PI);\n\t},\n\n\tsineOut: function sineOut(t) {\n\t\treturn Math.sin(t * Math.PI * 0.5);\n\t}\n};\n\n$$.makeVideoPlayerHtml = function (videoType, videoId, width, height) {\n\tif (videoType == 'youtube') {\n\t\treturn '<iframe class=\"youtube-player\" type=\"text/html\"' + ' width=\"' + width + '\" height=\"' + height + '\" src=\"' + 'http://www.youtube.com/embed/' + videoId + '?autoplay=0&rel=0&amp;controls=0&amp;showinfo=0' + '\" frameborder=\"0\" wmode=\"opaque\" autoplay=\"false\"></iframe>';\n\t} else if (videoType == 'vimeo') {\n\t\treturn '<iframe wmode=\"opaque\" width=\"' + width + '\" height=\"' + height + '\" src=\"' + 'http://player.vimeo.com/video/' + videoId + '?autoplay=1' + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n\t}\n\n\treturn '';\n};\n\n$$.ScrollWidth = function () {\n\t// создадим элемент с прокруткой\n\tvar div = document.createElement('div');\n\n\tdiv.style.overflowY = 'scroll';\n\tdiv.style.width = '50px';\n\tdiv.style.height = '50px';\n\n\t// при display:none размеры нельзя узнать\n\t// нужно, чтобы элемент был видим,\n\t// visibility:hidden - можно, т.к. сохраняет геометрию\n\tdiv.style.visibility = 'hidden';\n\n\tdocument.body.appendChild(div);\n\tvar scrollWidth = div.offsetWidth - div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn scrollWidth;\n};\n\n$$.FakerInfo = function (block) {\n\tvar news = block.find('.news-block');\n\n\tnews.each(function () {\n\t\tvar item = $(this);\n\t\tvar hasImage = item.find('img').length == 0 ? false : true;\n\t\tvar hasTitle = item.find('.title').length == 0 ? false : true;\n\n\t\tif (hasTitle) {\n\t\t\tvar title = item.find('.title');\n\t\t\tvar subtitle = item.find('.subtitle');\n\t\t\tvar description = item.find('.description');\n\t\t\tvar date = item.find('.date');\n\t\t\tvar rating = item.find('.rating');\n\n\t\t\tvar timeDate = new Date(faker.date.between(2010, 2014));\n\t\t\tvar curr_date = timeDate.getDate();\n\t\t\tvar curr_month = timeDate.getMonth() + 1;\n\t\t\tvar curr_year = timeDate.getFullYear() % 1000;\n\t\t\tvar formatDate = curr_date + \".\" + numb(curr_month) + \".\" + curr_year;\n\t\t\tvar formatTime = numb(timeDate.getHours()) + \":\" + numb(timeDate.getMinutes());\n\n\t\t\tdate.text(formatDate + ', ' + formatTime);\n\t\t\ttitle.text(faker.lorem.words(1)[0]);\n\t\t\tsubtitle.text(faker.lorem.paragraph(1));\n\t\t\tdescription.text(faker.lorem.paragraph(1));\n\t\t\trating.text($$.getRandomInt(0, 4) + '.' + $$.getRandomInt(0, 9));\n\t\t}\n\n\t\tif (hasImage) {\n\t\t\tvar width = item.width();\n\t\t\tvar height = item.height();\n\t\t\titem.find('img').attr('src', faker.image.imageUrl(width, height, 'transport'));\n\t\t}\n\t});\n\n\tfunction numb(number) {\n\t\tif (number < 10) {\n\t\t\treturn '0' + number;\n\t\t} else {\n\t\t\treturn number;\n\t\t}\n\t}\n};\n\n$$.number_format = function (number, decimals, dec_point, thousands_sep) {\n\tnumber = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\n\tvar n = !isFinite(+number) ? 0 : +number,\n\t    prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\n\t    sep = typeof thousands_sep === 'undefined' ? ',' : thousands_sep,\n\t    dec = typeof dec_point === 'undefined' ? '.' : dec_point,\n\t    s = '',\n\t    toFixedFix = function toFixedFix(n, prec) {\n\t\tvar k = Math.pow(10, prec);\n\t\treturn '' + Math.round(n * k) / k;\n\t};\n\ts = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\n\tif (s[0].length > 3) {\n\t\ts[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n\t}\n\tif ((s[1] || '').length < prec) {\n\t\ts[1] = s[1] || '';\n\t\ts[1] += new Array(prec - s[1].length + 1).join('0');\n\t}\n\treturn s.join(dec);\n};;\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Component = (function (_$$$Emitter) {\n\t_inherits(Component, _$$$Emitter);\n\n\tfunction Component() {\n\t\t_classCallCheck(this, Component);\n\n\t\t_get(Object.getPrototypeOf(Component.prototype), \"constructor\", this).call(this);\n\t\t$$.Emitter.call(this);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\tif (args.length === 1) {\n\t\t\tthis.root = args[0];\n\t\t} else if (args.length === 2) {\n\t\t\tthis.root = args[0];\n\t\t\tthis.options = args[1];\n\t\t}\n\n\t\tthis.initialize();\n\t}\n\n\t_createClass(Component, [{\n\t\tkey: \"initialize\",\n\t\tvalue: function initialize() {\n\t\t\tthis._cacheNodes();\n\t\t\tthis._bindEvents();\n\t\t\tthis._ready();\n\t\t}\n\t}, {\n\t\tkey: \"_cacheNodes\",\n\t\tvalue: function _cacheNodes() {}\n\t}, {\n\t\tkey: \"_bindEvents\",\n\t\tvalue: function _bindEvents() {}\n\t}, {\n\t\tkey: \"_ready\",\n\t\tvalue: function _ready() {}\n\t}]);\n\n\treturn Component;\n})($$.Emitter);;\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function () {\n\tif (!_.isUndefined(window.google)) {\n\t\tvar _gm = google.maps;\n\t}\n})();\n\nvar GoogleMap = (function () {\n\tfunction GoogleMap(root) {\n\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t\t_classCallCheck(this, GoogleMap);\n\n\t\tvar defaultOptions = {\n\t\t\toffset: false,\n\t\t\tcoords: [-34.397, 150.644],\n\t\t\tmapOptions: {\n\t\t\t\tmapTypeId: !_.isUndefined(window.google) ? google.maps.MapTypeId.ROADMAP : '', //MapTypeId.SATELLITE, MapTypeId.HYBRID, MapTypeId.TERRAIN\n\t\t\t\tmaxZoom: 45,\n\t\t\t\tzoom: 15,\n\t\t\t\tminZoom: 0,\n\t\t\t\tzoomControl: true,\n\t\t\t\toverviewMapControl: true\n\t\t\t}\n\t\t};\n\n\t\tthis.root = root;\n\t\tthis.options = _.assign(defaultOptions, options);\n\n\t\tthis.MercatorProjection = null;\n\t\tthis.MapIcon = null;\n\t\tthis.MapCenter = null;\n\t}\n\n\t_createClass(GoogleMap, [{\n\t\tkey: 'initialize',\n\t\tvalue: function initialize() {}\n\t}, {\n\t\tkey: '_createMap',\n\t\tvalue: function _createMap() {\n\t\t\tvar _this = this;\n\n\t\t\tvar centerMap = new gm.LatLng(this.options.coords[0], this.options.coords[1]);\n\t\t\tthis.map = new gm.Map(this.root.get(0), this.options.mapOptions);\n\t\t\tthis.map.setCenter(centerMap);\n\t\t\tthis.MapCenter = centerMap;\n\n\t\t\tgoogle.maps.event.addListenerOnce(this.map, 'idle', function (f) {\n\t\t\t\tif (_this.options.offset) {\n\t\t\t\t\t_this.MercatorProjection = new MercatorProjection(_this.map);\n\n\t\t\t\t\tvar offset = _this.root.width() - _this.options.offset;\n\n\t\t\t\t\tvar point = new google.maps.Point(offset / 2, _this.root.height() / 2);\n\t\t\t\t\tvar latLng = _this.MercatorProjection.PixelToLatLng(point);\n\n\t\t\t\t\t_this.map.setCenter(latLng);\n\n\t\t\t\t\t_this.MapCenter = latLng;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgoogle.maps.event.addListener(this.map, 'click', _.bind(function (event) {\n\t\t\t\tthis.trigger('mapClick', event);\n\t\t\t}, this));\n\n\t\t\tgoogle.maps.event.addListener(this.map, 'zoom_changed', function (f) {\n\t\t\t\tif (_this.MapCenter) {\n\t\t\t\t\t_this.map.panTo(_this.MapCenter);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgoogle.maps.event.addListener(this.map, 'dragstart', _.bind(function (event) {\n\t\t\t\tthis.center = null;\n\t\t\t}, this));\n\t\t}\n\t}, {\n\t\tkey: '_cacheNodes',\n\t\tvalue: function _cacheNodes() {\n\t\t\tthis.nodes = {};\n\t\t}\n\t}, {\n\t\tkey: '_bindEvents',\n\t\tvalue: function _bindEvents() {}\n\t}, {\n\t\tkey: '_ready',\n\t\tvalue: function _ready() {\n\t\t\tvar _this2 = this;\n\n\t\t\tgm.event.addDomListener(window, 'load', this._createMap());\n\n\t\t\tthis.icon = {\n\t\t\t\turl: './site/assets/images/point.png',\n\t\t\t\tsize: [32, 37]\n\t\t\t};\n\n\t\t\tif (!this.nodes.addresses.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.nodes.addresses.each(function (index) {\n\t\t\t\tvar item = $(_this2);\n\t\t\t\tvar coords = $.parseJSON(item.data('coords').json);\n\n\t\t\t\t_this2.marker = coords;\n\n\t\t\t\titem.on('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar item = $(this);\n\n\t\t\t\t\tif (item.hasClass('active')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\titem.siblings().removeClass('active').end().addClass('active');\n\n\t\t\t\t\tGoogleMaps.panTo = coords;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'icon',\n\t\tset: function set(value) {\n\t\t\tif (value) {\n\t\t\t\tthis.MapIcon = {\n\t\t\t\t\turl: value.url,\n\t\t\t\t\tsize: new google.maps.Size(value.size[0], value.size[1]),\n\t\t\t\t\torigin: new google.maps.Point(0, 0),\n\t\t\t\t\tanchor: new google.maps.Point(value.size[0] / 2, value.size[1])\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.MapIcon;\n\t\t}\n\t}, {\n\t\tkey: 'marker',\n\t\tset: function set(value) {\n\t\t\tvar position = null;\n\n\t\t\t_.isArray(value) ? position = new gm.LatLng(value[0], value[1]) : position = value;\n\n\t\t\tvar icon = this.icon == null ? '' : this.icon;\n\n\t\t\tvar marker = new gm.Marker({\n\t\t\t\tposition: position,\n\t\t\t\tmap: this.map,\n\t\t\t\ticon: icon\n\t\t\t});\n\n\t\t\tgoogle.maps.event.addListener(marker, 'click', _.bind(function () {\n\t\t\t\tthis.panTo = marker.getPosition();\n\t\t\t}, this));\n\t\t}\n\t}, {\n\t\tkey: 'center',\n\t\tset: function set(value) {\n\t\t\tvar position = null;\n\n\t\t\t_.isArray(value) ? position = new gm.LatLng(value[0], value[1]) : position = value;\n\n\t\t\tthis.map.setCenter(position);\n\n\t\t\tthis.MapCenter = position;\n\t\t}\n\t}, {\n\t\tkey: 'panTo',\n\t\tset: function set(value) {\n\t\t\tvar position = null;\n\n\t\t\t_.isArray(value) ? position = new gm.LatLng(value[0], value[1]) : position = value;\n\n\t\t\tthis.map.panTo(position);\n\t\t\tthis.MapCenter = position;\n\n\t\t\tif (this.MercatorProjection) {\n\t\t\t\tvar offset = this.root.width() - this.options.offset;\n\n\t\t\t\tvar point = new google.maps.Point(offset / 2, this.root.height() / 2);\n\t\t\t\tvar latLng = this.MercatorProjection.PixelToLatLng(point);\n\t\t\t\tthis.map.panTo(latLng);\n\n\t\t\t\tthis.MapCenter = latLng;\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn GoogleMap;\n})();\n\nvar MercatorProjection = (function () {\n\tfunction MercatorProjection(map) {\n\t\t_classCallCheck(this, MercatorProjection);\n\n\t\tthis.map = map;\n\t\tthis.mapOverlay = new google.maps.OverlayView();\n\t\tthis.mapOverlay.draw = function () {};\n\n\t\tthis.pixelOrigin_ = new google.maps.Point(TILE_SIZE / 2, TILE_SIZE / 2);\n\n\t\tthis._ready();\n\t}\n\n\t/**\r\n  * Specified LatLng value is used to calculate pixel coordinates and\r\n  * update the control display. Container is also repositioned.\r\n  * @param {google.maps.LatLng} latLng Position to display\r\n  */\n\n\t_createClass(MercatorProjection, [{\n\t\tkey: 'LatLngToPixel',\n\t\tvalue: function LatLngToPixel(latLng) {\n\t\t\tvar projection = this.mapOverlay.getProjection();\n\t\t\tvar point = projection.fromLatLngToContainerPixel(latLng);\n\t\t\treturn point;\n\t\t}\n\n\t\t/**\r\n   * Specified LatLng value is used to calculate pixel coordinates and\r\n   * update the control display. Container is also repositioned.\r\n   * @param {google.maps.Point} Point Position to display\r\n   */\n\t}, {\n\t\tkey: 'PixelToLatLng',\n\t\tvalue: function PixelToLatLng(point) {\n\t\t\tvar projection = this.mapOverlay.getProjection();\n\t\t\tvar newPoint = projection.fromContainerPixelToLatLng(point);\n\n\t\t\treturn newPoint;\n\t\t}\n\t}, {\n\t\tkey: '_ready',\n\t\tvalue: function _ready() {\n\t\t\tthis.mapOverlay.setMap(this.options.map);\n\t\t}\n\t}]);\n\n\treturn MercatorProjection;\n})();;\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MainSlider = (function (_Component) {\n\t_inherits(MainSlider, _Component);\n\n\tfunction MainSlider() {\n\t\tvar root = arguments.length <= 0 || arguments[0] === undefined ? $ : arguments[0];\n\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\t\t_classCallCheck(this, MainSlider);\n\n\t\tvar defaultOptions = {};\n\n\t\t_get(Object.getPrototypeOf(MainSlider.prototype), 'constructor', this).call(this, root, _.merge(options || {}, defaultOptions, _.defaults));\n\n\t\t//$$.Emitter.call(this);\n\t}\n\n\t_createClass(MainSlider, [{\n\t\tkey: '_cacheNodes',\n\t\tvalue: function _cacheNodes() {\n\t\t\tthis.nodes = {\n\t\t\t\tslides: this.root.find('.slide'),\n\t\t\t\tarrows: this.root.find('.slide-button'),\n\t\t\t\tpagination: this.root.find('.pagination')\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: '_ready',\n\t\tvalue: function _ready() {\n\t\t\tthis._resizeSlider();\n\t\t\tthis._initSpring();\n\n\t\t\tthis.slidesLength = this.nodes.slides.length;\n\t\t\tthis.nodes.pagination.append('<ul />');\n\n\t\t\tfor (var i = 1; i <= this.slidesLength; i++) {\n\t\t\t\tthis.nodes.pagination.find('ul').append('<li/>');\n\t\t\t}\n\n\t\t\tthis.nodes.pagination = this.nodes.pagination.find('li');\n\t\t\tthis.index = 0;\n\n\t\t\tthis.nodes.pagination.eq(this.index).addClass('active');\n\t\t}\n\t}, {\n\t\tkey: '_bindEvents',\n\t\tvalue: function _bindEvents() {\n\t\t\tvar _this = this;\n\n\t\t\tthis.on('slideChange', _.bind(function () {\n\t\t\t\tthis.nodes.pagination.eq(this.index).siblings().removeClass('active');\n\t\t\t\tthis.nodes.pagination.eq(this.index).addClass('active');\n\t\t\t}, this));\n\n\t\t\tthis.nodes.arrows.on('click', event = function (event) {\n\t\t\t\tvar item = $(event.currentTarget);\n\n\t\t\t\tvar newIndex = _this.index + item.data('direction');\n\n\t\t\t\tif (newIndex < 0) {\n\t\t\t\t\tnewIndex = _this.slidesLength - 1;\n\t\t\t\t} else if (newIndex > _this.slidesLength - 1) {\n\t\t\t\t\tnewIndex = 0;\n\t\t\t\t}\n\n\t\t\t\tif (item.data('direction') > 0) {\n\t\t\t\t\t_this.nodes.slides.eq(_this.index).data('spring').target(-1);\n\n\t\t\t\t\t_this.nodes.slides.eq(newIndex).data('spring').position(1);\n\t\t\t\t\t_this.nodes.slides.eq(newIndex).data('spring').target(0);\n\t\t\t\t} else {\n\t\t\t\t\t_this.nodes.slides.eq(_this.index).data('spring').target(1);\n\n\t\t\t\t\t_this.nodes.slides.eq(newIndex).data('spring').position(-1);\n\t\t\t\t\t_this.nodes.slides.eq(newIndex).data('spring').target(0);\n\t\t\t\t}\n\n\t\t\t\t_this.index = newIndex;\n\n\t\t\t\t_this.emit('slideChange');\n\t\t\t});\n\n\t\t\tthis.nodes.pagination.on('click', event = function (event) {\n\t\t\t\tvar item = $(event.currentTarget);\n\n\t\t\t\tif (_this.index == item.index()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_this.setIndex(_this.index, item.index());\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'slideRight',\n\t\tvalue: function slideRight(index, newIndex) {\n\t\t\tthis.nodes.slides.eq(index).data('spring').target(-1);\n\n\t\t\tthis.nodes.slides.eq(newIndex).data('spring').position(1);\n\t\t\tthis.nodes.slides.eq(newIndex).data('spring').target(0);\n\t\t}\n\t}, {\n\t\tkey: 'slideLeft',\n\t\tvalue: function slideLeft(index, newIndex) {\n\t\t\tthis.nodes.slides.eq(this.index).data('spring').target(1);\n\n\t\t\tthis.nodes.slides.eq(newIndex).data('spring').position(-1);\n\t\t\tthis.nodes.slides.eq(newIndex).data('spring').target(0);\n\t\t}\n\t}, {\n\t\tkey: '_initSpring',\n\t\tvalue: function _initSpring() {\n\t\t\tthis.nodes.slides.each(function (index) {\n\t\t\t\tvar item = $(this);\n\n\t\t\t\tvar spring = new $$.Simulation.Spring({\n\t\t\t\t\trigidness: 100,\n\t\t\t\t\tdamping: 1.5,\n\t\t\t\t\ttarget: 1,\n\t\t\t\t\tposition: 1,\n\t\t\t\t\ttargetLimits: [-1, 1],\n\t\t\t\t\tstep: function step() {\n\t\t\t\t\t\tvar position = Math.round(this.position() * 1000) / 1000;\n\n\t\t\t\t\t\titem.css({\n\t\t\t\t\t\t\tleft: 100 * position + '%'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\titem.data('spring', spring);\n\t\t\t});\n\n\t\t\tif (this.nodes.slides.eq(0).data() != undefined) {\n\t\t\t\tthis.nodes.slides.eq(0).data('spring').position(0);\n\t\t\t\tthis.nodes.slides.eq(0).data('spring').target(0);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setIndex',\n\t\tvalue: function setIndex(index, newIndex) {\n\t\t\tif (index > newIndex) {\n\t\t\t\tthis.slideLeft(index, newIndex);\n\t\t\t} else {\n\t\t\t\tthis.slideRight(index, newIndex);\n\t\t\t}\n\n\t\t\tthis.nodes.pagination.eq(newIndex).siblings().removeClass('active');\n\t\t\tthis.nodes.pagination.eq(newIndex).addClass('active');\n\t\t\tthis.index = newIndex;\n\t\t}\n\t}, {\n\t\tkey: '_resizeSlider',\n\t\tvalue: function _resizeSlider() {\n\t\t\tvar startWidth = 1420;\n\t\t\tvar fontSize = 16;\n\n\t\t\t$('window').resize(_.bind(function () {\n\t\t\t\tvar currentWidth = $$.window.width() + $$.ScrollWidth();\n\n\t\t\t\tif ($('window').width() >= 1420) {\n\t\t\t\t\tvar ratio = 1420 / startWidth * 100 / 100;\n\n\t\t\t\t\tthis.root.css({\n\t\t\t\t\t\tfontSize: fontSize * ratio + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ($('window').width() <= 960) {\n\t\t\t\t\tvar ratio = 960 / startWidth * 100 / 100;\n\n\t\t\t\t\tthis.root.css({\n\t\t\t\t\t\tfontSize: fontSize * ratio + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar ratio = currentWidth / startWidth * 100 / 100;\n\n\t\t\t\tthis.root.css({\n\t\t\t\t\tfontSize: fontSize * ratio + 'px'\n\t\t\t\t});\n\t\t\t}, this));\n\n\t\t\t$('window').resize();\n\t\t}\n\t}]);\n\n\treturn MainSlider;\n})(Component);;\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar $$ = $$ || {};\n\nvar Application = (function () {\n\tfunction Application() {\n\t\t_classCallCheck(this, Application);\n\n\t\tthis._initGoogleMap();\n\t}\n\n\t_createClass(Application, [{\n\t\tkey: '_initGoogleMap',\n\t\tvalue: function _initGoogleMap() {\n\t\t\t$('.b-map').each(function () {\n\t\t\t\t$$.googleMap = new GoogleMap($(this));\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn Application;\n})();\n\n$(function () {\n\t$$.application = new Application();\n});","/**\r\n * Base emitter class.\r\n *\r\n * Dependencies: underscore.js.\r\n *\r\n * Example:\r\n *\r\n *   var e = new $$.Emitter();\r\n *\r\n *   e.on('event1', function() {});\r\n *   e.on('event2.namespace1', function() {});\r\n *   e.on('event2.namespace2', function() {});\r\n *   e.on('event3a.namespace3', function() {});\r\n *   e.on('event3b.namespace3', function() {});\r\n *   e.on('event3c.namespace3', function() {});\r\n *   e.emit('event1', { Some event data here... });\r\n *   e.emit('event2.namespace1');\r\n *   e.off('event1');\r\n *   e.off('event2.namespace1');\r\n *   e.off('event2.namespace2');\r\n *   e.off('.namespace3');\r\n *\r\n * Multiple event data arguments are supported.\r\n *\r\n *   e.on('event10', function(a, b, c) { ... });\r\n *   e.emit('event10', 2, 'qwe', { x: 3, y: 'zxc' });\r\n *\r\n * Also #trigger() is an alias for #emit().\r\n *\r\n * NOTE: The namespace name \"*\" has a special meaning in $$.Emitter.ItemContainer.\r\n */\r\n\r\nvar $$ = $$ || {};\r\n\r\n/**\r\n * @constructor\r\n */\r\n$$.Emitter = function() {\r\n\tthis._itemContainer = new $$.Emitter.ItemContainer();\r\n};\r\n\r\n$$.Emitter.prototype = {\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @return {Boolean}\r\n\t * @private\r\n\t */\r\n\t_isEventIdJustANamespace: function(eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\treturn !!eventId.match(/^\\.[a-z\\d]+$/i);\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @return {Array} [eventName, namespace]\r\n\t * @throws {Error}\r\n\t * @private\r\n\t */\r\n\t_parseAndValidateEventId: function(eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\t// Either a single event name.\r\n\r\n\t\tvar match = eventId.match(/^[a-z\\d]+$/i);\r\n\r\n\t\tif (match) {\r\n\t\t\treturn [match[0], null];\r\n\t\t}\r\n\r\n\t\t// Or an event name + a namespace name.\r\n\r\n\t\tmatch = eventId.match(/^([a-z\\d]+)\\.([a-z\\d]+)$/i);\r\n\r\n\t\tif (!match) {\r\n\t\t\tthrow Error(\r\n\t\t\t\t'Full event names should not be empty, should consist of letters and numbers'\r\n\t\t\t\t+ ' and may contain only single dot in the middle.'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn [match[1], match[2]];\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t */\r\n\temit: function(eventId /*, eventData1, eventData2, ... */) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\t\tvar items = this._itemContainer.getItems(parts[0], parts[1]);\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\t\t_.each(items, function(item) {\r\n\t\t\titem.callback.apply(null, args);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @param {Function} callback\r\n\t */\r\n\ton: function(eventId, callback) {\r\n\t\tif (callback == null) {\r\n\t\t\tthrow Error('An event callback should be provided.');\r\n\t\t}\r\n\r\n\t\tif (!_.isFunction(callback)) {\r\n\t\t\tthrow Error('An event callback should be a function.');\r\n\t\t}\r\n\r\n\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\r\n\t\tthis._itemContainer.add(parts[0], parts[1], callback);\r\n\t},\r\n\r\n\toff: function(eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\tif (this._isEventNameWithNamespaceJustANamespace(eventId)) {\r\n\t\t\t// Just a namespace.\r\n\t\t\tthis._itemContainer.remove(null, eventId.substr(1));\r\n\t\t} else {\r\n\t\t\t// Event name and possible namespace.\r\n\t\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\t\t\tthis._itemContainer.remove(parts[0], parts[1]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$$.Emitter.prototype.trigger = $$.Emitter.prototype.emit;\r\n\r\n$$.Emitter.ItemContainer = function() {\r\n\t/* Items:\r\n\t *\r\n\t * {\r\n\t *   eventName1: {\r\n\t *     namespace1: [ { callback, *... }, ... ],\r\n\t *     namespace2: [ ... ]\r\n\t *     ...\r\n\t *   },\r\n\t *\r\n\t *   eventName2: { ... }\r\n\t *   ...\r\n\t * }\r\n\t */\r\n\tthis._items = {};\r\n};\r\n\r\n$$.Emitter.ItemContainer.prototype = {\r\n\t/**\r\n\t * @param {String} eventName\r\n\t * @param {String}|null namespace\r\n\t * @param {Function} callback\r\n\t */\r\n\tadd: function(eventName, namespace, callback) {\r\n\t\teventName = String(eventName);\r\n\t\tnamespace = namespace == null ? '*' : String(namespace);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\tthis._items[eventName] = {};\r\n\t\t}\r\n\r\n\t\tif (!this._items[eventName].hasOwnProperty(namespace)) {\r\n\t\t\tthis._items[eventName][namespace] = [];\r\n\t\t}\r\n\r\n\t\tthis._items[eventName][namespace].push({\r\n\t\t\tcallback: callback\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t * @param {String}|null namespace\r\n\t * @return {Array}\r\n\t */\r\n\tgetItems: function(eventName, namespace) {\r\n\t\teventName = String(eventName);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tif (namespace == null) {\r\n\t\t\t// Return items for all namespaces of the event.\r\n\r\n\t\t\tvar arraysOfItems = _.values(this._items[eventName]);\r\n\r\n\t\t\treturn _.union.apply(null, arraysOfItems);\r\n\t\t}\r\n\r\n\t\tnamespace = String(namespace);\r\n\r\n\t\tif (!this._items[eventName].hasOwnProperty(namespace)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn this._items[eventName][namespace];\r\n\t},\r\n\r\n\t/**\r\n\t * Removes by event name, by namespace or by both.\r\n\t *\r\n\t * @param {String}|null eventName\r\n\t * @param {String}|null namespace\r\n\t */\r\n\tremove: function(eventName, namespace) {\r\n\t\tif (eventName == null && namespace == null) {\r\n\t\t\tthrow Error('Only one of the arguments can be omitted.');\r\n\t\t}\r\n\r\n\t\tif (namespace == null) {\r\n\t\t\tthis.removeByEventName(eventName);\r\n\t\t} else if (eventName == null) {\r\n\t\t\tthis.removeByNamespace(namespace);\r\n\t\t} else {\r\n\t\t\t// Both eventName and namespace are not null.\r\n\r\n\t\t\teventName = String(eventName);\r\n\t\t\tnamespace = String(namespace);\r\n\r\n\t\t\tif (!this._items.hasOwnProperty(eventName) || !this._items[eventName].hasOwnProperty(namespace)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdelete this._items[eventName][namespace];\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t */\r\n\tremoveByEventName: function(eventName) {\r\n\t\teventName = String(eventName);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete this._items[eventName];\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} namespace\r\n\t */\r\n\tremoveByNamespace: function(namespace) {\r\n\t\tnamespace = String(namespace);\r\n\r\n\t\t_.each(this._items, function(itemsByNamespace) {\r\n\t\t\tif (!itemsByNamespace.hasOwnProperty(namespace)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdelete itemsByNamespace[namespace];\r\n\t\t});\r\n\t}\r\n};\r\n","$$.Simulation = $$.Simulation || {};\r\n\r\n/**\r\n * Не нужно использовать этот класс напрямую. Нужно использовать $$.Simulation.Spring.\r\n */\r\n$$.Simulation.SpringSimulator = function() {\r\n\tvar self = this;\r\n\r\n\tthis._springs = [];\r\n\tthis._lastTime = +(new Date());\r\n\r\n\tsetInterval(function() {\r\n\t\tvar now = +(new Date());\r\n\t\tvar time = (now - self._lastTime) / 1000;\r\n\t\tvar dt = 0.01;\r\n\r\n\t\tif (time > 0.2) {\r\n\t\t\t// Если жс работает слишком медленно, замедлить симуляцию.\r\n\t\t\ttime = 0.2;\r\n\t\t}\r\n\r\n\t\tvar i, ni = self._springs.length, spring\r\n\t\t\t, dampings = []\r\n\t\t\t, distance, newDistance, force, newVelocity\r\n\t\t\t, targetVelocityLimit, velocityLimit, positionLimits;\r\n\r\n\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\tspring = self._springs[i];\r\n\t\t\tdampings.push(2 * Math.sqrt(spring._rigidness) * spring._damping);\r\n\t\t}\r\n\r\n\t\twhile (time > 0.000001) {\r\n\t\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\t\tspring = self._springs[i];\r\n\t\t\t\t\r\n\t\t\t\tif (spring._frozen) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdistance = spring._target - spring._position;\r\n\r\n\t\t\t\tforce = (distance >= 0 ? 1 : -1) * Math.pow(Math.abs(distance), spring._forcePower) * spring._rigidness\r\n\t\t\t\t\t- (spring._velocity >= 0 ? 1 : -1) * Math.abs(spring._velocity) * dampings[i];\r\n\r\n\t\t\t\tnewVelocity = spring._velocity + force * dt;\r\n\r\n\t\t\t\tvelocityLimit = spring._velocityLimit;\r\n\t\t\t\ttargetVelocityLimit = spring._targetVelocityLimit;\r\n\r\n\t\t\t\tif (targetVelocityLimit !== null) {\r\n\t\t\t\t\ttargetVelocityLimit *= Math.pow(spring._targetVelocityLimitPower, Math.abs(distance));\r\n\r\n\t\t\t\t\tif (velocityLimit === null || targetVelocityLimit < velocityLimit) {\r\n\t\t\t\t\t\tvelocityLimit = targetVelocityLimit;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (velocityLimit !== null && Math.abs(newVelocity) > velocityLimit) {\r\n\t\t\t\t\tnewVelocity = (newVelocity >= 0 ? 1 : -1) * velocityLimit;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspring._position += newVelocity * dt;\r\n\t\t\t\tspring._velocity = newVelocity;\r\n\r\n\t\t\t\tif (spring._stopAtTarget) {\r\n\t\t\t\t\tnewDistance = spring._target - spring._position;\r\n\r\n\t\t\t\t\tif (distance > 0 && newDistance <= 0 || distance < 0 && newDistance >= 0) {\r\n\t\t\t\t\t\tspring._position = spring._target;\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (spring._positionLimits !== null) {\r\n\t\t\t\t\tpositionLimits = spring._positionLimits;\r\n\r\n\t\t\t\t\tif (spring._position < positionLimits[0]) {\r\n\t\t\t\t\t\tspring._position = positionLimits[0];\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t} else if (spring._position > positionLimits[1]) {\r\n\t\t\t\t\t\tspring._position = positionLimits[1];\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttime -= dt;\r\n\t\t}\r\n\r\n\t\tself._lastTime = now;\r\n\r\n\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\tspring = self._springs[i];\r\n\r\n\t\t\tif (spring == null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!spring._frozen && spring._step) {\r\n\t\t\t\tspring._step.call();\r\n\t\t\t}\r\n\t\t}\r\n\t}, 20);\r\n};\r\n\r\n$$.Simulation.SpringSimulator.prototype = {\r\n\taddSpring: function(spring) {\r\n\t\tthis._springs.push(spring);\r\n\t},\r\n\r\n\tdeleteSpring: function(spring) {\r\n\t\tvar i = _.indexOf(this._springs, spring);\r\n\r\n\t\tif (i != -1) {\r\n\t\t\tthis._springs.splice(i, 1);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Создать один \"глобальный\" экземпляр.\r\n\r\n$$.Simulation.__springSimulator = new $$.Simulation.SpringSimulator();\r\n","$$.Simulation = $$.Simulation || {};\r\n\r\n/**\r\n * @constructor\r\n */\r\n$$.Simulation.Spring = function(options) {\r\n\toptions = _.extend({\r\n\t\tfrozen: false,\r\n\t\tposition: 0,\r\n\t\tpositionLimits: null,\r\n\t\ttarget: 0,\r\n\t\ttargetLimits: null,\r\n\t\tvelocity: 0,\r\n\t\tvelocityLimit: null,\r\n\t\trigidness: 1,\r\n\t\tdamping: 1,\r\n\t\tforcePower: 1,\r\n\t\ttargetVelocityLimit: null,\r\n\t\ttargetVelocityLimitPower: 1.25,\r\n\t\tstopAtTarget: false,\r\n\t\tstep: null\r\n\t}, options || {});\r\n\r\n\tthis._frozen = options.frozen;\r\n\tthis._position = options.position;\r\n\tthis._positionLimits = options.positionLimits;\r\n\tthis._target = options.target;\r\n\tthis._targetLimits = options.targetLimits;\r\n\tthis._velocity = options.velocity;\r\n\tthis._velocityLimit = options.velocityLimit;\r\n\tthis._rigidness = options.rigidness;\r\n\tthis._damping = options.damping;\r\n\tthis._forcePower = options.forcePower;\r\n\tthis._targetVelocityLimit = options.targetVelocityLimit;\r\n\tthis._targetVelocityLimitPower = options.targetVelocityLimitPower;\r\n\tthis._stopAtTarget = options.stopAtTarget;\r\n\tthis._step = null;\r\n\r\n\tif (options.step) {\r\n\t\tthis.step(options.step);\r\n\t}\r\n\r\n\tthis._applyTargetLimits();\r\n\r\n\t$$.Simulation.__springSimulator.addSpring(this);\r\n};\r\n\r\n$$.Simulation.Spring.prototype = {\r\n\t_applyTargetLimits: function() {\r\n\t\tif (this._targetLimits === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this._target < this._targetLimits[0]) {\r\n\t\t\tthis._target = this._targetLimits[0];\r\n\t\t} else if (this._target > this._targetLimits[1]) {\r\n\t\t\tthis._target = this._targetLimits[1];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis._step = null;\r\n\t\t$$.Simulation.__springSimulator.deleteSpring(this);\r\n\t},\r\n\r\n\tmoveTarget: function(delta) {\r\n\t\tthis._target += delta;\r\n\t\tthis._applyTargetLimits();\r\n\t},\r\n\r\n\tstep: function(callback) {\r\n\t\tthis._step = _.bind(callback, this);\r\n\t},\r\n\r\n\ttarget: function(value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this._target;\r\n\t\t}\r\n\r\n\t\tthis._target = value;\r\n\t\tthis._applyTargetLimits();\r\n\t},\r\n\r\n\ttargetLimits: function(value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this._targetLimits;\r\n\t\t}\r\n\r\n\t\tthis._targetLimits = value;\r\n\t\tthis._applyTargetLimits();\r\n\t}\r\n};\r\n\r\n// Создать методы-аксессоры.\r\n\r\n_.each([\r\n\t'frozen', 'position', 'positionLimits', 'velocity', 'velocityLimit'\r\n\t, 'rigidness', 'damping', 'forcePower',\r\n\t, 'targetVelocityLimit', 'targetVelocityLimitPower', 'stopAtTarget'\r\n], function(k) {\r\n\t$$.Simulation.Spring.prototype[k] = function(value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this['_' + k];\r\n\t\t}\r\n\r\n\t\tthis['_' + k] = value;\r\n\t};\r\n});\r\n","var $$ = $$ || {};\r\n\r\n$$.extend = function (Child, Parent) {\r\n\tvar F = function () {\r\n\t};\r\n\tF.prototype = Parent.prototype;\r\n\tChild.prototype = new F();\r\n\tChild.prototype.constructor = Child;\r\n\tChild.superclass = Parent.prototype;\r\n};\r\n\r\n$$.trim = function (str, charlist) {\r\n\tcharlist = !charlist ? ' \\\\s\\xA0' : charlist.replace(/([\\[\\]\\(\\)\\.\\?\\/\\*\\{\\}\\+\\$\\^\\:])/g, '\\$1');\r\n\tvar re = new RegExp('^[' + charlist + ']+|[' + charlist + ']+$', 'g');\r\n\treturn str.replace(re, '');\r\n};\r\n\r\n$$.parseUrlParams = function (url) {\r\n\tvar url = url || location.href;\r\n\tvar searchParam = {};\r\n\tvar regExpParams = /\\?{1}.+/;\r\n\r\n\tif (regExpParams.test(url)) {\r\n\t\turl = url.replace(regExpParams, '');\r\n\r\n\t\tvar urlParams = location.search.replace('?', '');\r\n\t\turlParams = urlParams.split('&');\r\n\r\n\t\t_.each(urlParams, function (item, index, list) {\r\n\t\t\tvar param = item.split('=');\r\n\t\t\tsearchParam[param[0]] = param[1];\r\n\t\t});\r\n\t}\r\n\treturn searchParam;\r\n};\r\n\r\n$$.clamp = function (value, min, max) {\r\n\treturn Math.min(max, Math.max(min, value));\r\n};\r\n\r\n$$.getRandomInt = function (min, max) {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\n$$.Transitions = {\r\n\tlinear: function (t) {\r\n\t\treturn t;\r\n\t},\r\n\r\n\tquadIn: function (t) {\r\n\t\treturn t * t;\r\n\t},\r\n\r\n\tquadInOut: function (t) {\r\n\t\tt *= 2;\r\n\r\n\t\tif (t < 1) {\r\n\t\t\treturn 0.5 * t * t;\r\n\t\t}\r\n\r\n\t\treturn -0.5 * ((t - 1) * (t - 3) - 1);\r\n\t},\r\n\r\n\tquadOut: function (t) {\r\n\t\treturn -t * (t - 2);\r\n\t},\r\n\r\n\tsineIn: function (t) {\r\n\t\treturn 1 - Math.cos(t * Math.PI * 0.5);\r\n\t},\r\n\r\n\tsineInOut: function (t) {\r\n\t\treturn 0.5 - 0.5 * Math.cos(t * Math.PI);\r\n\t},\r\n\r\n\tsineOut: function (t) {\r\n\t\treturn Math.sin(t * Math.PI * 0.5);\r\n\t}\r\n};\r\n\r\n$$.makeVideoPlayerHtml = function (videoType, videoId, width, height) {\r\n\tif (videoType == 'youtube') {\r\n\t\treturn '<iframe class=\"youtube-player\" type=\"text/html\"'\r\n\t\t\t+ ' width=\"' + width + '\" height=\"' + height + '\" src=\"'\r\n\t\t\t+ 'http://www.youtube.com/embed/' + videoId + '?autoplay=0&rel=0&amp;controls=0&amp;showinfo=0'\r\n\t\t\t+ '\" frameborder=\"0\" wmode=\"opaque\" autoplay=\"false\"></iframe>';\r\n\t} else if (videoType == 'vimeo') {\r\n\t\treturn '<iframe wmode=\"opaque\" width=\"' + width + '\" height=\"' + height + '\" src=\"'\r\n\t\t\t+ 'http://player.vimeo.com/video/' + videoId + '?autoplay=1'\r\n\t\t\t+ '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\r\n\t}\r\n\r\n\treturn '';\r\n};\r\n\r\n$$.ScrollWidth = function () {\r\n\t// создадим элемент с прокруткой\r\n\tvar div = document.createElement('div');\r\n\r\n\tdiv.style.overflowY = 'scroll';\r\n\tdiv.style.width = '50px';\r\n\tdiv.style.height = '50px';\r\n\r\n\t// при display:none размеры нельзя узнать\r\n\t// нужно, чтобы элемент был видим,\r\n\t// visibility:hidden - можно, т.к. сохраняет геометрию\r\n\tdiv.style.visibility = 'hidden';\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar scrollWidth = div.offsetWidth - div.clientWidth;\r\n\tdocument.body.removeChild(div);\r\n\r\n\treturn scrollWidth;\r\n};\r\n\r\n$$.FakerInfo = function (block) {\r\n\tvar news = block.find('.news-block');\r\n\r\n\tnews.each(function () {\r\n\t\tvar item = $(this);\r\n\t\tvar hasImage = item.find('img').length == 0 ? false : true;\r\n\t\tvar hasTitle = item.find('.title').length == 0 ? false : true;\r\n\r\n\t\tif (hasTitle) {\r\n\t\t\tvar title = item.find('.title');\r\n\t\t\tvar subtitle = item.find('.subtitle');\r\n\t\t\tvar description = item.find('.description');\r\n\t\t\tvar date = item.find('.date');\r\n\t\t\tvar rating = item.find('.rating');\r\n\r\n\t\t\tvar timeDate = new Date(faker.date.between(2010, 2014));\r\n\t\t\tvar curr_date = timeDate.getDate();\r\n\t\t\tvar curr_month = timeDate.getMonth() + 1;\r\n\t\t\tvar curr_year = timeDate.getFullYear() % 1000;\r\n\t\t\tvar formatDate = curr_date + \".\" + numb(curr_month) + \".\" + curr_year;\r\n\t\t\tvar formatTime = numb(timeDate.getHours()) + \":\" + numb(timeDate.getMinutes());\r\n\r\n\t\t\tdate.text(formatDate + ', ' + formatTime);\r\n\t\t\ttitle.text(faker.lorem.words(1)[0]);\r\n\t\t\tsubtitle.text(faker.lorem.paragraph(1));\r\n\t\t\tdescription.text(faker.lorem.paragraph(1));\r\n\t\t\trating.text($$.getRandomInt(0, 4) + '.' + $$.getRandomInt(0, 9));\r\n\t\t}\r\n\r\n\t\tif (hasImage) {\r\n\t\t\tvar width = item.width();\r\n\t\t\tvar height = item.height();\r\n\t\t\titem.find('img').attr('src', faker.image.imageUrl(width, height, 'transport'));\r\n\t\t}\r\n\t});\r\n\r\n\tfunction numb(number) {\r\n\t\tif (number < 10) {\r\n\t\t\treturn '0' + number;\r\n\t\t} else {\r\n\t\t\treturn number;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$$.number_format = function (number, decimals, dec_point, thousands_sep) {\r\n\tnumber = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n\tvar n = !isFinite(+number) ? 0 : +number,\r\n\t\tprec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n\t\tsep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n\t\tdec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n\t\ts = '',\r\n\t\ttoFixedFix = function (n, prec) {\r\n\t\t\tvar k = Math.pow(10, prec);\r\n\t\t\treturn '' + Math.round(n * k) / k;\r\n\t\t};\r\n\ts = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n\tif (s[0].length > 3) {\r\n\t\ts[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n\t}\r\n\tif ((s[1] || '').length < prec) {\r\n\t\ts[1] = s[1] || '';\r\n\t\ts[1] += new Array(prec - s[1].length + 1).join('0');\r\n\t}\r\n\treturn s.join(dec);\r\n};","class Component extends $$.Emitter {\r\n\tconstructor(...args) {\r\n\t\tsuper();\r\n\t\t$$.Emitter.call(this);\r\n\r\n\t\tif (args.length === 1) {\r\n\t\t\tthis.root = args[0];\r\n\t\t} else if (args.length === 2) {\r\n\t\t\tthis.root = args[0];\r\n\t\t\tthis.options = args[1];\r\n\t\t}\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tinitialize() {\r\n\t\tthis._cacheNodes();\r\n\t\tthis._bindEvents();\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\t_cacheNodes() {\r\n\t}\r\n\r\n\t_bindEvents() {\r\n\t}\r\n\r\n\t_ready() {\r\n\r\n\t}\r\n}\r\n","(function () {\r\n\tif (!_.isUndefined(window.google)) {\r\n\t\tconst gm = google.maps\r\n\t}\r\n}());\r\n\r\nclass GoogleMap {\r\n\tconstructor(root, options = {}) {\r\n\t\tvar defaultOptions = {\r\n\t\t\toffset:     false,\r\n\t\t\tcoords:     [-34.397, 150.644],\r\n\t\t\tmapOptions: {\r\n\t\t\t\tmapTypeId:          !_.isUndefined(window.google) ? google.maps.MapTypeId.ROADMAP : '', //MapTypeId.SATELLITE, MapTypeId.HYBRID, MapTypeId.TERRAIN\r\n\t\t\t\tmaxZoom:            45,\r\n\t\t\t\tzoom:               15,\r\n\t\t\t\tminZoom:            0,\r\n\t\t\t\tzoomControl:        true,\r\n\t\t\t\toverviewMapControl: true\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.root = root;\r\n\t\tthis.options = _.assign(defaultOptions, options);\r\n\r\n\t\tthis.MercatorProjection = null;\r\n\t\tthis.MapIcon = null;\r\n\t\tthis.MapCenter = null;\r\n\t}\r\n\r\n\tinitialize() {\r\n\t}\r\n\r\n\tset icon(value) {\r\n\t\tif (value) {\r\n\t\t\tthis.MapIcon = {\r\n\t\t\t\turl:    value.url,\r\n\t\t\t\tsize:   new google.maps.Size(value.size[0], value.size[1]),\r\n\t\t\t\torigin: new google.maps.Point(0, 0),\r\n\t\t\t\tanchor: new google.maps.Point(value.size[0] / 2, value.size[1])\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tget icon() {\r\n\t\treturn this.MapIcon;\r\n\t}\r\n\r\n\tset marker(value) {\r\n\t\tvar position = null;\r\n\r\n\t\t_.isArray(value) ? position = new gm.LatLng(value[0], value[1]) : position = value;\r\n\r\n\t\tvar icon = this.icon == null ? '' : this.icon;\r\n\r\n\t\tvar marker = new gm.Marker({\r\n\t\t\tposition: position,\r\n\t\t\tmap:      this.map,\r\n\t\t\ticon:     icon\r\n\t\t});\r\n\r\n\t\tgoogle.maps.event.addListener(marker, 'click', _.bind(function () {\r\n\t\t\tthis.panTo = marker.getPosition();\r\n\t\t}, this));\r\n\t}\r\n\r\n\tset center(value) {\r\n\t\tvar position = null;\r\n\r\n\t\t_.isArray(value) ? position = new gm.LatLng(value[0], value[1]) : position = value;\r\n\r\n\t\tthis.map.setCenter(position);\r\n\r\n\t\tthis.MapCenter = position;\r\n\t}\r\n\r\n\tset panTo(value) {\r\n\t\tvar position = null;\r\n\r\n\t\t_.isArray(value) ? position = new gm.LatLng(value[0], value[1]) : position = value;\r\n\r\n\t\tthis.map.panTo(position);\r\n\t\tthis.MapCenter = position;\r\n\r\n\t\tif (this.MercatorProjection) {\r\n\t\t\tvar offset = this.root.width() - this.options.offset;\r\n\r\n\t\t\tvar point = new google.maps.Point(offset / 2, this.root.height() / 2);\r\n\t\t\tvar latLng = this.MercatorProjection.PixelToLatLng(point);\r\n\t\t\tthis.map.panTo(latLng);\r\n\r\n\t\t\tthis.MapCenter = latLng;\r\n\t\t}\r\n\t}\r\n\r\n\t_createMap() {\r\n\t\tvar centerMap = new gm.LatLng(this.options.coords[0], this.options.coords[1]);\r\n\t\tthis.map = new gm.Map(this.root.get(0), this.options.mapOptions);\r\n\t\tthis.map.setCenter(centerMap);\r\n\t\tthis.MapCenter = centerMap;\r\n\r\n\t\tgoogle.maps.event.addListenerOnce(this.map, 'idle', f => {\r\n\t\t\tif (this.options.offset) {\r\n\t\t\t\tthis.MercatorProjection = new MercatorProjection(this.map);\r\n\r\n\t\t\t\tvar offset = this.root.width() - this.options.offset;\r\n\r\n\t\t\t\tvar point = new google.maps.Point(offset / 2, this.root.height() / 2);\r\n\t\t\t\tvar latLng = this.MercatorProjection.PixelToLatLng(point);\r\n\r\n\t\t\t\tthis.map.setCenter(latLng);\r\n\r\n\t\t\t\tthis.MapCenter = latLng;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tgoogle.maps.event.addListener(this.map, 'click', _.bind(function (event) {\r\n\t\t\tthis.trigger('mapClick', event);\r\n\t\t}, this));\r\n\r\n\t\tgoogle.maps.event.addListener(this.map, 'zoom_changed', f => {\r\n\t\t\tif (this.MapCenter) {\r\n\t\t\t\tthis.map.panTo(this.MapCenter);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tgoogle.maps.event.addListener(this.map, 'dragstart', _.bind(function (event) {\r\n\t\t\tthis.center = null;\r\n\t\t}, this));\r\n\t}\r\n\r\n\t_cacheNodes() {\r\n\t\tthis.nodes = {};\r\n\t}\r\n\r\n\t_bindEvents() {\r\n\t}\r\n\r\n\t_ready() {\r\n\t\tgm.event.addDomListener(window, 'load', this._createMap());\r\n\r\n\t\tthis.icon = {\r\n\t\t\turl:  './site/assets/images/point.png',\r\n\t\t\tsize: [32, 37]\r\n\t\t};\r\n\r\n\t\tif (!this.nodes.addresses.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.nodes.addresses.each((index) => {\r\n\t\t\tvar item = $(this);\r\n\t\t\tvar coords = $.parseJSON(item.data('coords').json);\r\n\r\n\t\t\tthis.marker = coords;\r\n\r\n\t\t\titem.on('click', function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar item = $(this);\r\n\r\n\t\t\t\tif (item.hasClass('active')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.siblings().removeClass('active').end().addClass('active');\r\n\r\n\t\t\t\tGoogleMaps.panTo = coords;\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass MercatorProjection {\r\n\tconstructor(map) {\r\n\t\tthis.map = map;\r\n\t\tthis.mapOverlay = new google.maps.OverlayView();\r\n\t\tthis.mapOverlay.draw = function () {\r\n\t\t};\r\n\r\n\t\tthis.pixelOrigin_ = new google.maps.Point(TILE_SIZE / 2,\r\n\t\t\tTILE_SIZE / 2);\r\n\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\t/**\r\n\t * Specified LatLng value is used to calculate pixel coordinates and\r\n\t * update the control display. Container is also repositioned.\r\n\t * @param {google.maps.LatLng} latLng Position to display\r\n\t */\r\n\tLatLngToPixel(latLng) {\r\n\t\tvar projection = this.mapOverlay.getProjection();\r\n\t\tvar point = projection.fromLatLngToContainerPixel(latLng);\r\n\t\treturn point\r\n\t}\r\n\r\n\t/**\r\n\t * Specified LatLng value is used to calculate pixel coordinates and\r\n\t * update the control display. Container is also repositioned.\r\n\t * @param {google.maps.Point} Point Position to display\r\n\t */\r\n\tPixelToLatLng(point) {\r\n\t\tvar projection = this.mapOverlay.getProjection();\r\n\t\tvar newPoint = projection.fromContainerPixelToLatLng(point);\r\n\r\n\t\treturn newPoint;\r\n\t}\r\n\r\n\t_ready() {\r\n\t\tthis.mapOverlay.setMap(this.options.map);\r\n\t}\r\n}\r\n","class MainSlider extends Component {\r\n\tconstructor(root = $, options = {}) {\r\n\t\tvar defaultOptions = {};\r\n\r\n\t\tsuper(root, _.merge(options || {}, defaultOptions, _.defaults));\r\n\r\n\t\t//$$.Emitter.call(this);\r\n\t}\r\n\r\n\t_cacheNodes() {\r\n\t\tthis.nodes = {\r\n\t\t\tslides:     this.root.find('.slide'),\r\n\t\t\tarrows:     this.root.find('.slide-button'),\r\n\t\t\tpagination: this.root.find('.pagination')\r\n\t\t};\r\n\t}\r\n\r\n\t_ready() {\r\n\t\tthis._resizeSlider();\r\n\t\tthis._initSpring();\r\n\r\n\t\tthis.slidesLength = this.nodes.slides.length;\r\n\t\tthis.nodes.pagination.append('<ul />');\r\n\r\n\t\tfor (var i = 1; i <= this.slidesLength; i++) {\r\n\t\t\tthis.nodes.pagination.find('ul').append('<li/>');\r\n\t\t}\r\n\r\n\t\tthis.nodes.pagination = this.nodes.pagination.find('li');\r\n\t\tthis.index = 0;\r\n\r\n\t\tthis.nodes.pagination.eq(this.index).addClass('active');\r\n\t}\r\n\r\n\t_bindEvents() {\r\n\t\tthis.on('slideChange', _.bind(function () {\r\n\t\t\tthis.nodes.pagination.eq(this.index).siblings().removeClass('active');\r\n\t\t\tthis.nodes.pagination.eq(this.index).addClass('active');\r\n\t\t}, this));\r\n\r\n\t\tthis.nodes.arrows.on('click', event = (event) => {\r\n\t\t\tvar item = $(event.currentTarget);\r\n\r\n\t\t\tvar newIndex = this.index + item.data('direction');\r\n\r\n\t\t\tif (newIndex < 0) {\r\n\t\t\t\tnewIndex = this.slidesLength - 1;\r\n\t\t\t} else if (newIndex > this.slidesLength - 1) {\r\n\t\t\t\tnewIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (item.data('direction') > 0) {\r\n\t\t\t\tthis.nodes.slides.eq(this.index).data('spring').target(-1);\r\n\r\n\t\t\t\tthis.nodes.slides.eq(newIndex).data('spring').position(1);\r\n\t\t\t\tthis.nodes.slides.eq(newIndex).data('spring').target(0);\r\n\t\t\t} else {\r\n\t\t\t\tthis.nodes.slides.eq(this.index).data('spring').target(1);\r\n\r\n\t\t\t\tthis.nodes.slides.eq(newIndex).data('spring').position(-1);\r\n\t\t\t\tthis.nodes.slides.eq(newIndex).data('spring').target(0);\r\n\t\t\t}\r\n\r\n\t\t\tthis.index = newIndex;\r\n\r\n\t\t\tthis.emit('slideChange');\r\n\t\t});\r\n\r\n\t\tthis.nodes.pagination.on('click', event = (event) => {\r\n\t\t\tvar item = $(event.currentTarget);\r\n\r\n\t\t\tif (this.index == item.index()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setIndex(this.index, item.index());\r\n\t\t});\r\n\t}\r\n\r\n\tslideRight(index, newIndex) {\r\n\t\tthis.nodes.slides.eq(index).data('spring').target(-1);\r\n\r\n\t\tthis.nodes.slides.eq(newIndex).data('spring').position(1);\r\n\t\tthis.nodes.slides.eq(newIndex).data('spring').target(0);\r\n\t}\r\n\r\n\tslideLeft(index, newIndex) {\r\n\t\tthis.nodes.slides.eq(this.index).data('spring').target(1);\r\n\r\n\t\tthis.nodes.slides.eq(newIndex).data('spring').position(-1);\r\n\t\tthis.nodes.slides.eq(newIndex).data('spring').target(0);\r\n\t}\r\n\r\n\t_initSpring() {\r\n\t\tthis.nodes.slides.each(function (index) {\r\n\t\t\tvar item = $(this);\r\n\r\n\t\t\tvar spring = new $$.Simulation.Spring({\r\n\t\t\t\trigidness:    100,\r\n\t\t\t\tdamping:      1.5,\r\n\t\t\t\ttarget:       1,\r\n\t\t\t\tposition:     1,\r\n\t\t\t\ttargetLimits: [-1, 1],\r\n\t\t\t\tstep:         function () {\r\n\t\t\t\t\tvar position = Math.round(this.position() * 1000) / 1000;\r\n\r\n\t\t\t\t\titem.css({\r\n\t\t\t\t\t\tleft: 100 * position + '%'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\titem.data('spring', spring);\r\n\r\n\t\t});\r\n\r\n\t\tif (this.nodes.slides.eq(0).data() != undefined) {\r\n\t\t\tthis.nodes.slides.eq(0).data('spring').position(0);\r\n\t\t\tthis.nodes.slides.eq(0).data('spring').target(0);\r\n\t\t}\r\n\t}\r\n\r\n\tsetIndex(index, newIndex) {\r\n\t\tif (index > newIndex) {\r\n\t\t\tthis.slideLeft(index, newIndex);\r\n\t\t} else {\r\n\t\t\tthis.slideRight(index, newIndex);\r\n\t\t}\r\n\r\n\t\tthis.nodes.pagination.eq(newIndex).siblings().removeClass('active');\r\n\t\tthis.nodes.pagination.eq(newIndex).addClass('active');\r\n\t\tthis.index = newIndex;\r\n\t}\r\n\r\n\t_resizeSlider() {\r\n\t\tvar startWidth = 1420;\r\n\t\tvar fontSize = 16;\r\n\r\n\t\t$('window').resize(_.bind(function () {\r\n\t\t\tvar currentWidth = $$.window.width() + $$.ScrollWidth();\r\n\r\n\t\t\tif ($('window').width() >= 1420) {\r\n\t\t\t\tvar ratio = (1420 / startWidth * 100) / 100;\r\n\r\n\t\t\t\tthis.root.css({\r\n\t\t\t\t\tfontSize: (fontSize * ratio) + 'px'\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ($('window').width() <= 960) {\r\n\t\t\t\tvar ratio = (960 / startWidth * 100) / 100;\r\n\r\n\t\t\t\tthis.root.css({\r\n\t\t\t\t\tfontSize: (fontSize * ratio) + 'px'\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar ratio = (currentWidth / startWidth * 100) / 100;\r\n\r\n\t\t\tthis.root.css({\r\n\t\t\t\tfontSize: (fontSize * ratio) + 'px'\r\n\t\t\t});\r\n\t\t}, this));\r\n\r\n\t\t$('window').resize();\r\n\t}\r\n}\r\n","var $$ = $$ || {};\r\n\r\nclass Application {\r\n\tconstructor () {\r\n\t\tthis._initGoogleMap();\r\n\t}\r\n\r\n\t_initGoogleMap() {\r\n\t\t$('.b-map').each(function () {\r\n\t\t\t$$.googleMap = new GoogleMap($(this));\r\n\t\t});\r\n\t}\r\n}\r\n\r\n$(function () {\r\n\t$$.application = new Application();\r\n});\r\n"],"sourceRoot":"/source/"}